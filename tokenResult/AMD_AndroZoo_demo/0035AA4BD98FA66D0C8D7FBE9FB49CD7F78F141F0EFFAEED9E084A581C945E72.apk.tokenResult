com KoalaSquad FlappyDiesel Manifest permission String C2D MESSAGE com KoalaSquad FlappyDiesel permission C2D MESSAGE com KoalaSquad FlappyDiesel R attr drawable banner 2130837504 corona statusbar icon 2130837505 ic maps indicator current position 2130837506 ic maps indicator current position anim1 2130837507 ic maps indicator current position anim2 2130837508 ic maps indicator current position anim3 2130837509 ic menu camera 2130837510 ic menu refresh 2130837511 icon 2130837512 ouya icon 2130837513 ouya xiaomi icon 2130837514 raw corona d party licenses 2130903040 corona asset widget theme android 2130903041 corona asset widget theme android 2130903042 corona asset widget theme android holo dark 2130903043 corona asset widget theme android holo dark 2130903044 corona asset widget theme android holo dark 2130903045 corona asset widget theme android holo light 2130903046 corona asset widget theme android holo light 2130903047 corona asset widget theme android holo light 2130903048 corona asset widget theme ios 2130903049 corona asset widget theme ios7 2130903050 corona asset widget theme ios7 2130903051 corona asset widget theme ios7 2130903052 corona asset widget theme ios 2130903053 corona asset widget theme onoff mask 2130903054 corona asset widget theme onoff mask android holo 2130903055 corona asset widget theme pickerwheel mask 2130903056 corona map view 2130903057 android app OnActivityPausedListener onPaused Activity activity android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE StringRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE StyleableRes android support annotation java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Target ElementType ANNOTATION TYPE Retention RetentionPolicy CLASS IntDef flag false value android support annotation java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy CLASS NonNull android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE FractionRes android support annotation java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Target ElementType ANNOTATION TYPE Retention RetentionPolicy CLASS StringDef String value android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE PluralsRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE AnyRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE DimenRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE ColorRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE StyleRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE IdRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE ArrayRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE MenuRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE IntegerRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE InterpolatorRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE BoolRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE AttrRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE LayoutRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE XmlRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE DrawableRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE AnimRes android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE AnimatorRes android support annotation java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy CLASS Nullable android support annotation java lang annotation Documented java lang annotation ElementType java lang annotation Retention java lang annotation RetentionPolicy java lang annotation Target Documented Target ElementType METHOD ElementType PARAMETER ElementType FIELD Retention RetentionPolicy SOURCE RawRes plugin notifications com ansca corona Bridge com naef jnlua JavaFunction com naef jnlua LuaState com naef jnlua NamedJavaFunction LuaLoader JavaFunction String EVENT NAME pluginlibraryevent CancelNotificationWrapper NamedJavaFunction CancelNotificationWrapper String getName cancelNotification invoke LuaState L LuaLoader cancelNotification L RegisterForPushNotificationsWrapper NamedJavaFunction RegisterForPushNotificationsWrapper String getName registerForPushNotifications invoke LuaState L 0 ScheduleNotificationWrapper NamedJavaFunction ScheduleNotificationWrapper String getName scheduleNotification invoke LuaState L LuaLoader scheduleNotification L invoke LuaState L L register L toString 1 NamedJavaFunction ScheduleNotificationWrapper CancelNotificationWrapper RegisterForPushNotificationsWrapper 1 access modifiers changed from scheduleNotification LuaState L Bridge scheduleNotification L 1 access modifiers changed from cancelNotification LuaState L L isNone 1 Bridge cancelAllNotifications Bridge cancelNotification Double valueOf L toNumber 1 intValue 0 OneSignal android app Activity android app NotificationManager android content ComponentName android util Log com ansca corona CoronaEnvironment com ansca corona CoronaRuntime com ansca corona CoronaRuntimeListener com ansca corona CoronaRuntimeTask com ansca corona CoronaRuntimeTaskDispatcher com naef jnlua JavaFunction com naef jnlua LuaState com naef jnlua LuaType com naef jnlua NamedJavaFunction com onesignal OneSignal com onesignal OneSignal GetTagsHandler com onesignal OneSignal IdsAvailableHandler com onesignal OneSignal NotificationOpenedHandler com onesignal OneSignal PostNotificationResponseHandler java util Hashtable java util Iterator java util Map Entry org json JSONObject LuaLoader JavaFunction access modifiers changed from CoronaRuntimeListener mCoronaRuntimeListener null ClearAllNotificationsFunction NamedJavaFunction ClearAllNotificationsFunction String getName clearAllNotifications invoke LuaState luaState NotificationManager CoronaEnvironment getApplicationContext getSystemService notification cancelAll Throwable t t printStackTrace 0 EnableInAppAlertNotificationFunction NamedJavaFunction EnableInAppAlertNotificationFunction String getName enableInAppAlertNotification invoke LuaState luaState OneSignal enableInAppAlertNotification luaState checkBoolean 1 Throwable t t printStackTrace 0 EnableNotificationsWhenActiveFunction NamedJavaFunction EnableNotificationsWhenActiveFunction String getName enableNotificationsWhenActive invoke LuaState luaState OneSignal enableNotificationsWhenActive luaState checkBoolean 1 Throwable t t printStackTrace 0 EnableSoundFunction NamedJavaFunction EnableSoundFunction String getName enableSound invoke LuaState luaState OneSignal enableSound luaState checkBoolean 1 Throwable t t printStackTrace 0 EnableVibrateFunction NamedJavaFunction EnableVibrateFunction String getName enableVibrate invoke LuaState luaState OneSignal enableVibrate luaState checkBoolean 1 Throwable t t printStackTrace 0 GetTagsFunction NamedJavaFunction CoronaGetTagsHandler GetTagsHandler access modifiers changed from CoronaRuntimeTaskDispatcher coronaDispatcher access modifiers changed from luaFunctionRefkey CoronaGetTagsHandler inLuaFunctionRefKey CoronaRuntimeTaskDispatcher inCoronaDispatcher luaFunctionRefkey inLuaFunctionRefKey coronaDispatcher inCoronaDispatcher tagsAvailable JSONObject tags CoronaEnvironment getCoronaActivity null CoronaEnvironment getCoronaActivity runOnUiThread Runnable run CoronaGetTagsHandler coronaDispatcher send CoronaRuntimeTask executeUsing CoronaRuntime runtime LuaState luaState runtime getLuaState luaState rawGet LuaState REGISTRYINDEX CoronaGetTagsHandler luaFunctionRefkey luaState unref LuaState REGISTRYINDEX CoronaGetTagsHandler luaFunctionRefkey tags null Hashtable String String hashtable Hashtable Iterator keys tags keys keys hasNext String key String keys next tags get key String hashtable put key String tags get key luaState newTable 0 hashtable size luaTableStackIndex luaState getTop Entry String String entry hashtable entrySet luaState pushString String entry getValue luaState setField luaTableStackIndex String entry getKey luaState pushNil luaState call 1 0 Exception ex ex printStackTrace GetTagsFunction String getName getTags invoke LuaState luaState luaState checkType 1 LuaType FUNCTION OneSignal getTags CoronaGetTagsHandler luaState ref LuaState REGISTRYINDEX CoronaRuntimeTaskDispatcher luaState Throwable t t printStackTrace 0 IdsAvailableFunction NamedJavaFunction CoronaIdsAvailableHandler IdsAvailableHandler access modifiers changed from CoronaRuntimeTaskDispatcher coronaDispatcher access modifiers changed from luaFunctionRefkey CoronaIdsAvailableHandler inLuaFunctionRefKey CoronaRuntimeTaskDispatcher inCoronaDispatcher luaFunctionRefkey inLuaFunctionRefKey coronaDispatcher inCoronaDispatcher idsAvailable String userId String registrationId CoronaEnvironment getCoronaActivity null Log e OneSignalSDK OneSignal UserId userId CoronaEnvironment getCoronaActivity runOnUiThread Runnable run CoronaIdsAvailableHandler coronaDispatcher send CoronaRuntimeTask executeUsing CoronaRuntime runtime Log e OneSignalSDK OneSignal UserId userId LuaState luaState runtime getLuaState luaState rawGet LuaState REGISTRYINDEX CoronaIdsAvailableHandler luaFunctionRefkey luaState unref LuaState REGISTRYINDEX CoronaIdsAvailableHandler luaFunctionRefkey luaState pushString userId registrationId null luaState pushNil luaState pushString registrationId luaState call 2 0 Throwable t t printStackTrace IdsAvailableFunction String getName idsAvailable invoke LuaState luaState luaState checkType 1 LuaType FUNCTION OneSignal idsAvailable CoronaIdsAvailableHandler luaState ref LuaState REGISTRYINDEX CoronaRuntimeTaskDispatcher luaState Throwable t t printStackTrace 0 InitFunction NamedJavaFunction CoronaNotificationOpenedHandler NotificationOpenedHandler access modifiers changed from CoronaRuntimeTaskDispatcher coronaDispatcher access modifiers changed from luaFunctionRefkey CoronaNotificationOpenedHandler inLuaFunctionRefKey CoronaRuntimeTaskDispatcher inCoronaDispatcher luaFunctionRefkey inLuaFunctionRefKey coronaDispatcher inCoronaDispatcher notificationOpened String message JSONObject additionalData isActive CoronaEnvironment getCoronaActivity null CoronaEnvironment getCoronaActivity runOnUiThread Runnable run CoronaNotificationOpenedHandler coronaDispatcher send CoronaRuntimeTask executeUsing CoronaRuntime runtime LuaState luaState runtime getLuaState luaState rawGet LuaState REGISTRYINDEX CoronaNotificationOpenedHandler luaFunctionRefkey luaState pushString message additionalData null luaState pushString additionalData toString luaState pushNil luaState pushBoolean isActive luaState call 3 0 Exception ex ex printStackTrace InitFunction String getName init invoke LuaState luaState String appId luaState checkString 1 String googleProjectNum luaState checkString 2 NotificationOpenedHandler notificationOpenedHandler null luaState checkType 3 LuaType FUNCTION notificationOpenedHandler CoronaNotificationOpenedHandler luaState ref LuaState REGISTRYINDEX CoronaRuntimeTaskDispatcher luaState Throwable th OneSignal sdkType corona Activity coronaActivity CoronaEnvironment getCoronaActivity LuaLoader mCoronaRuntimeListener null LuaLoader mCoronaRuntimeListener OneSignalCoronaRuntimeListener CoronaEnvironment addRuntimeListener LuaLoader mCoronaRuntimeListener OneSignal init coronaActivity googleProjectNum appId notificationOpenedHandler coronaActivity getPackageManager setComponentEnabledSetting ComponentName coronaActivity getApplicationContext getPackageName com ansca corona notifications GoogleCloudMessagingBroadcastReceiver 2 1 Throwable t t printStackTrace 0 OneSignalCoronaRuntimeListener CoronaRuntimeListener OneSignalCoronaRuntimeListener onExiting CoronaRuntime runtime OneSignal removeNotificationOpenedHandler onLoaded CoronaRuntime runtime onResumed CoronaRuntime runtime onStarted CoronaRuntime runtime onSuspended CoronaRuntime runtime PostNotificationFunction NamedJavaFunction PostNotificationFunction String getName postNotification invoke LuaState luaState luaOnFailureFunctionRefkey luaState ref LuaState REGISTRYINDEX luaOnSuccessFunctionRefkey luaState ref LuaState REGISTRYINDEX CoronaRuntimeTaskDispatcher coronaDispatcher CoronaRuntimeTaskDispatcher luaState OneSignal postNotification luaState checkString 1 PostNotificationResponseHandler PostNotificationResponseHandler fireLuaCallBack luaFunctionRefKey JSONObject jsonObj CoronaEnvironment getCoronaActivity null CoronaEnvironment getCoronaActivity runOnUiThread Runnable run coronaDispatcher send CoronaRuntimeTask executeUsing CoronaRuntime runtime LuaState luaState runtime getLuaState luaState rawGet LuaState REGISTRYINDEX luaFunctionRefKey luaState unref LuaState REGISTRYINDEX luaFunctionRefKey luaState pushString jsonObj toString luaState call 1 0 Throwable t t printStackTrace onSuccess JSONObject response fireLuaCallBack luaOnSuccessFunctionRefkey response onFailure JSONObject response fireLuaCallBack luaOnFailureFunctionRefkey response Throwable t t printStackTrace 0 PromptLocationFunction NamedJavaFunction PromptLocationFunction String getName promptLocation invoke LuaState luaState OneSignal promptLocation 0 SendTagsFunction NamedJavaFunction SendTagsFunction String getName sendTags invoke LuaState luaState OneSignal sendTags JSONObject luaState checkString 1 Throwable t t printStackTrace 0 SetEmailFunction NamedJavaFunction SetEmailFunction String getName setEmail invoke LuaState luaState OneSignal setEmail luaState checkString 1 Throwable t t printStackTrace 0 SetLogLevelFunction NamedJavaFunction SetLogLevelFunction String getName setLogLevel invoke LuaState luaState OneSignal setLogLevel luaState checkInteger 1 luaState checkInteger 2 Throwable t t printStackTrace 0 SetSubscriptionFunction NamedJavaFunction SetSubscriptionFunction String getName setSubscription invoke LuaState luaState OneSignal setSubscription luaState checkBoolean 1 Throwable t t printStackTrace 0 invoke LuaState luaState luaState register luaState toString 1 NamedJavaFunction InitFunction SendTagsFunction GetTagsFunction IdsAvailableFunction ClearAllNotificationsFunction EnableVibrateFunction EnableSoundFunction EnableNotificationsWhenActiveFunction EnableInAppAlertNotificationFunction SetSubscriptionFunction PostNotificationFunction SetEmailFunction PromptLocationFunction SetLogLevelFunction 1 com onesignal java util List org json JSONObject OSNotificationPayload List ActionButton actionButtons JSONObject additionalData String backgroundColor backgroundData String bigPicture String fromProjectNumber String group String groupMessage String largeIcon String launchUrl String ledColor String message String notificationId restoring String smallIcon String sound String title visibility ActionButton String icon String id String text com onesignal android app Activity android content Intent android os Bundle android support annotation NonNull PermissionsActivity Activity REQUEST LOCATION 2 ActivityAvailableListener activityAvailableListener answered waiting access modifiers changed from onCreate Bundle savedInstanceState onCreate savedInstanceState requestPermission access modifiers changed from onNewIntent Intent intent onNewIntent intent requestPermission requestPermission waiting waiting true ActivityCompat requestPermissions String LocationGMS requestPermission 2 onRequestPermissionsResult requestCode NonNull String permissions NonNull grantResults answered true waiting false requestCode 2 grantResults length 0 grantResults 0 0 LocationGMS fireFailedComplete LocationGMS startGetLocation ActivityLifecycleHandler removeActivityAvailableListener activityAvailableListener finish startPrompt waiting answered activityAvailableListener ActivityAvailableListener available Activity activity activity getClass equals PermissionsActivity Intent intent Intent activity PermissionsActivity intent setFlags 131072 activity startActivity intent ActivityLifecycleHandler setActivityAvailableListener activityAvailableListener com onesignal android annotation TargetApi android app Activity android app Application ActivityLifecycleCallbacks android os Bundle TargetApi 14 ActivityLifecycleListener ActivityLifecycleCallbacks ActivityLifecycleListener onActivityCreated Activity activity Bundle savedInstanceState ActivityLifecycleHandler onActivityCreated activity onActivityStarted Activity activity ActivityLifecycleHandler onActivityStarted activity onActivityResumed Activity activity ActivityLifecycleHandler onActivityResumed activity onActivityPaused Activity activity ActivityLifecycleHandler onActivityPaused activity onActivityStopped Activity activity ActivityLifecycleHandler onActivityStopped activity onActivitySaveInstanceState Activity activity Bundle outState onActivityDestroyed Activity activity ActivityLifecycleHandler onActivityDestroyed activity com onesignal java io File RootToolsInternalMethods RootToolsInternalMethods isRooted String arr sbin system bin system xbin data local xbin data local bin system sd xbin system bin failsafe data local len arr length i 0 i len i File arr i su exists true false com onesignal BuildConfig String APPLICATION ID com onesignal String BUILD TYPE release DEBUG false String FLAVOR VERSION CODE 1 String VERSION NAME com onesignal android content Context com amazon device messaging ADM com onesignal OneSignal LOG LEVEL com onesignal PushRegistrator RegisteredHandler PushRegistratorADM PushRegistrator access modifiers changed from callbackSuccessful false RegisteredHandler registeredCallback registerForPush Context context String noKeyNeeded RegisteredHandler callback registeredCallback callback Thread Runnable run ADM adm ADM context String registrationId adm getRegistrationId registrationId null adm startRegister OneSignal Log LOG LEVEL DEBUG ADM Already registed with ID registrationId callback complete registrationId Thread sleep 30000 InterruptedException e PushRegistratorADM callbackSuccessful OneSignal Log LOG LEVEL ERROR com onesignal ADMMessageHandler timed out please check that your have the reciever service and your name matches NOTE Case Sensitive per the OneSignal instructions PushRegistratorADM fireCallback null start fireCallback String id callbackSuccessful true registeredCallback complete id com onesignal android content Intent com amazon device messaging ADMMessageHandlerBase com amazon device messaging ADMMessageReceiver com onesignal OneSignal LOG LEVEL ADMMessageHandler ADMMessageHandlerBase Receiver ADMMessageReceiver Receiver ADMMessageHandler ADMMessageHandler ADMMessageHandler JADX WARNING type inference failed r3v0 types com onesignal ADMMessageHandler android content Context access modifiers changed from onMessage Intent intent NotificationBundleProcessor Process false NotificationBundleProcessor bundleAsJSONObject intent getExtras null access modifiers changed from onRegistered String newRegistrationId OneSignal Log LOG LEVEL INFO ADM registartion ID newRegistrationId PushRegistratorADM fireCallback newRegistrationId access modifiers changed from onRegistrationError String error OneSignal Log LOG LEVEL ERROR ADM onRegistrationError error INVALID SENDER equals error OneSignal Log LOG LEVEL ERROR Please check that you have a matching name NOTE Case Sensitive api key txt and the apk was signed with the same Keystore and Alias PushRegistratorADM fireCallback null access modifiers changed from onUnregistered String info OneSignal Log LOG LEVEL INFO ADM onUnregistered info com onesignal android content Context AdvertisingIdentifierProvider String getIdentifier Context context com onesignal android content ComponentName android content Context android content Intent android database Cursor android database sqlite SQLiteDatabase NotificationRestorer restored NotificationRestorer asyncRestore Context context Thread Runnable run NotificationRestorer restore context start restore Context context Intent serviceIntent useExtender false restored restored true SQLiteDatabase writableDb OneSignalDbHelper context getWritableDatabase NotificationBundleProcessor deleteOldNotifications writableDb Cursor cursor writableDb query notification String NotificationTable COLUMN NAME ANDROID NOTIFICATION ID NotificationTable COLUMN NAME FULL DATA dismissed 0 AND opened 0 AND is summary 0 null null null id ASC cursor moveToFirst cursor close writableDb close NotificationExtenderService getIntent context null useExtender true existingId cursor getInt cursor getColumnIndex NotificationTable COLUMN NAME ANDROID NOTIFICATION ID String fullData cursor getString cursor getColumnIndex NotificationTable COLUMN NAME FULL DATA useExtender serviceIntent NotificationExtenderService getIntent context serviceIntent Intent setComponent ComponentName context getPackageName GcmIntentService getName serviceIntent putExtra json payload fullData serviceIntent putExtra android notif id existingId serviceIntent putExtra restoring true context startService serviceIntent cursor moveToNext cursor close writableDb close com onesignal android content ComponentName android content Context android content Intent android support v4 content WakefulBroadcastReceiver BootUpReceiver WakefulBroadcastReceiver onReceive Context context Intent intent Intent intentForService Intent intentForService setComponent ComponentName context getPackageName NotificationRestoreService getName startWakefulService context intentForService com onesignal android content ContentValues android content Context android database sqlite SQLiteDatabase android os Bundle com onesignal NotificationExtenderService OverrideSettings com onesignal OneSignal LOG LEVEL java util Random org json JSONArray org json JSONException org json JSONObject NotificationBundleProcessor String DEFAULT ACTION DEFAULT NotificationBundleProcessor ProcessFromGCMIntentService Context context Bundle bundle OverrideSettings overrideSettings restoring bundle getBoolean restoring false JSONObject jsonPayload JSONObject bundle getString json payload restoring OneSignal notValidOrDuplicated context jsonPayload bundle containsKey android notif id overrideSettings null overrideSettings OverrideSettings overrideSettings androidNotificationId Integer valueOf bundle getInt android notif id Process context restoring jsonPayload overrideSettings JSONException e e printStackTrace Process Context context restoring JSONObject jsonPayload OverrideSettings overrideSettings notificationId z showAsAlert OneSignal getInAppAlertNotificationEnabled context overrideSettings null overrideSettings androidNotificationId null notificationId Random nextInt notificationId overrideSettings androidNotificationId intValue showAsAlert OneSignal isAppActive z false z true GenerateNotification fromJsonPayload context restoring notificationId jsonPayload z overrideSettings restoring saveNotification context jsonPayload false notificationId notificationId JSONArray bundleAsJsonArray Bundle bundle JSONArray jsonArray JSONArray jsonArray put bundleAsJSONObject bundle jsonArray saveNotification Context context Bundle bundle opened notificationId saveNotification context bundleAsJSONObject bundle opened notificationId saveNotification Context context JSONObject jsonPayload opened notificationId JSONObject customJSON JSONObject jsonPayload optString custom SQLiteDatabase writableDb OneSignalDbHelper context getWritableDatabase ContentValues values ContentValues values put NotificationTable COLUMN NAME NOTIFICATION ID customJSON optString i jsonPayload has grp values put NotificationTable COLUMN NAME GROUP ID jsonPayload optString grp values put NotificationTable COLUMN NAME OPENED Integer valueOf opened 1 0 opened values put NotificationTable COLUMN NAME ANDROID NOTIFICATION ID Integer valueOf notificationId jsonPayload has title values put title jsonPayload optString title values put NotificationTable COLUMN NAME MESSAGE jsonPayload optString alert values put NotificationTable COLUMN NAME FULL DATA jsonPayload toString writableDb insert notification null values deleteOldNotifications writableDb opened BadgeCountUpdater update writableDb context writableDb close JSONException e e printStackTrace deleteOldNotifications SQLiteDatabase writableDb writableDb delete notification created time System currentTimeMillis 1000 604800 AND NotificationTable COLUMN NAME DISMISSED 1 OR NotificationTable COLUMN NAME OPENED 1 null JSONObject bundleAsJSONObject Bundle bundle JSONObject json JSONObject String key bundle keySet json put key bundle get key JSONException e OneSignal Log LOG LEVEL ERROR bundleAsJSONObject error key key e json prepareBundle Bundle gcmBundle JSONObject additionalDataJSON String buttonId gcmBundle containsKey o JSONObject customJSON JSONObject gcmBundle getString custom customJSON has a additionalDataJSON customJSON getJSONObject a additionalDataJSON JSONObject JSONArray buttons JSONArray gcmBundle getString o gcmBundle remove o i 0 i buttons length i JSONObject button buttons getJSONObject i String buttonText button getString n button remove n button has i buttonId button getString i button remove i buttonId buttonText button put id buttonId button put text buttonText button has p button put icon button getString p button remove p additionalDataJSON put actionButtons buttons additionalDataJSON put actionSelected DEFAULT ACTION customJSON has a customJSON put a additionalDataJSON gcmBundle putString custom customJSON toString JSONException e e printStackTrace com onesignal android content Context android net ConnectivityManager android net NetworkInfo android telephony TelephonyManager com onesignal OneSignal LOG LEVEL OSUtils OSUtils access modifiers changed from 0000 getDeviceType Class forName com amazon device messaging ADM 2 ClassNotFoundException e 1 access modifiers changed from 0000 Integer getNetType NetworkInfo netInfo ConnectivityManager OneSignal appContext getSystemService connectivity getActiveNetworkInfo netInfo null null networkType netInfo getType networkType 1 networkType 9 Integer valueOf 0 Integer valueOf 1 access modifiers changed from 0000 String getCarrierName String carrierName TelephonyManager OneSignal appContext getSystemService phone getNetworkOperatorName equals carrierName null carrierName String getManifestMeta Context context String metaName context getPackageManager getApplicationInfo context getPackageName 128 metaData getString metaName Throwable t OneSignal Log LOG LEVEL ERROR t null com onesignal android app Activity android app Instrumentation android app Instrumentation ActivityMonitor android app OnActivityPausedListener java lang reflect Field java lang reflect Method ActivityLifecycleListenerCompat ActivityLifecycleListenerCompat startListener Class activityThreadClass Class forName android app ActivityThread Object activityThread activityThreadClass getMethod currentActivityThread Class 0 invoke null Object 0 Field instrumentationField activityThreadClass getDeclaredField mInstrumentation instrumentationField setAccessible true startMonitorThread activityThreadClass activityThread Instrumentation instrumentationField get activityThread addMonitor null null false Throwable t t printStackTrace startMonitorThread Class activityThreadClass Object activityThread ActivityMonitor allActivitiesMonitor Thread Runnable run OnActivityPausedListener pausedListener OnActivityPausedListener onPaused Activity activity ActivityLifecycleHandler onActivityPaused activity Method registerOnActivityPausedListener activityThreadClass getMethod registerOnActivityPausedListener Class Activity OnActivityPausedListener true Activity currentActivity allActivitiesMonitor waitForActivity currentActivity isFinishing ActivityLifecycleHandler onActivityResumed currentActivity registerOnActivityPausedListener invoke activityThread Object currentActivity pausedListener Throwable t t printStackTrace start com onesignal com google android gms common api GoogleApiClient GoogleApiClientCompatProxy GoogleApiClient googleApiClient Class googleApiClientListenerClass GoogleApiClientCompatProxy GoogleApiClient googleApiClient2 googleApiClient googleApiClient2 googleApiClientListenerClass googleApiClient2 getClass connect googleApiClientListenerClass getMethod connect Class 0 invoke googleApiClient Object 0 Throwable t t printStackTrace disconnect googleApiClientListenerClass getMethod disconnect Class 0 invoke googleApiClient Object 0 Throwable t t printStackTrace GoogleApiClient realInstance googleApiClient com onesignal android content Context android database Cursor android database sqlite SQLiteDatabase com onesignal OneSignal LOG LEVEL com onesignal shortcutbadger ShortcutBadger BadgeCountUpdater BadgeCountUpdater update SQLiteDatabase readableDb Context context isEnabled true isEnabled DISABLE equals context getPackageManager getApplicationInfo context getPackageName 128 metaData getString com onesignal BadgeCount Throwable t OneSignal Log LOG LEVEL ERROR t isEnabled Cursor cursor readableDb query notification null dismissed 0 AND opened 0 AND is summary 0 null null null null updateCount cursor getCount context cursor close updateCount count Context context ShortcutBadger applyCount context count com onesignal android content Context com google android gms ads identifier AdvertisingIdClient com google android gms ads identifier AdvertisingIdClient Info com onesignal OneSignal LOG LEVEL AdvertisingIdProviderGPS AdvertisingIdentifierProvider AdvertisingIdProviderGPS String getIdentifier Context appContext Info adInfo AdvertisingIdClient getAdvertisingIdInfo appContext String id adInfo getId adInfo isLimitAdTrackingEnabled OptedOut id Throwable t OneSignal Log LOG LEVEL INFO Error getting Google Ad id t null com onesignal android app IntentService android content Intent android support v4 content WakefulBroadcastReceiver NotificationRestoreService IntentService NotificationRestoreService NotificationRestoreService access modifiers changed from onHandleIntent Intent intent NotificationRestorer restore WakefulBroadcastReceiver completeWakefulIntent intent com onesignal android content ContentValues android content Context android content Intent android database Cursor android database sqlite SQLiteDatabase android support v4 app NotificationManagerCompat com onesignal OneSignal LOG LEVEL org json JSONArray org json JSONException org json JSONObject NotificationOpenedProcessor Context context Intent intent processFromActivity Context inContext Intent inIntent inIntent getBooleanExtra action button false NotificationManagerCompat from inContext cancel inIntent getIntExtra notificationId 0 inContext sendBroadcast Intent android intent action CLOSE SYSTEM DIALOGS processIntent inContext inIntent processIntent Context incContext Intent inIntent context incContext intent inIntent String summaryGroup intent getStringExtra summary dismissed intent getBooleanExtra NotificationTable COLUMN NAME DISMISSED false SQLiteDatabase writableDb OneSignalDbHelper context getWritableDatabase JSONArray dataArray null dismissed dataArray newJsonArray JSONObject intent getStringExtra onesignal data Throwable t t printStackTrace dismissed summaryGroup null addChildNotifications dataArray summaryGroup writableDb markNotificationsConsumed writableDb summaryGroup null intent getStringExtra grp null updateSummaryNotification writableDb writableDb close dismissed OneSignal handleNotificationOpened context dataArray inIntent getBooleanExtra from alert false addChildNotifications JSONArray dataArray String summaryGroup SQLiteDatabase writableDb SQLiteDatabase sQLiteDatabase writableDb Cursor cursor sQLiteDatabase query notification String NotificationTable COLUMN NAME FULL DATA group id AND dismissed 0 AND opened 0 AND is summary 0 String summaryGroup null null null cursor getCount 1 cursor moveToFirst dataArray put JSONObject cursor getString cursor getColumnIndex NotificationTable COLUMN NAME FULL DATA Throwable th OneSignal Log LOG LEVEL ERROR Could not parse JSON of sub notification in group summaryGroup cursor moveToNext cursor close markNotificationsConsumed SQLiteDatabase writableDb String whereStr String group intent getStringExtra summary String whereArgs null group null whereStr group id whereArgs String group whereStr android notification id intent getIntExtra notificationId 0 writableDb update notification newContentValuesWithConsumed whereStr whereArgs BadgeCountUpdater update writableDb context updateSummaryNotification SQLiteDatabase writableDb String grpId intent getStringExtra grp SQLiteDatabase sQLiteDatabase writableDb Cursor cursor sQLiteDatabase query notification String NotificationTable COLUMN NAME ANDROID NOTIFICATION ID group id AND dismissed 0 AND opened 0 AND is summary 0 String grpId null null null cursor getCount 0 writableDb update notification newContentValuesWithConsumed group id String grpId GenerateNotification createSummaryNotification context true JSONObject grp grpId JSONException e cursor close ContentValues newContentValuesWithConsumed ContentValues values ContentValues intent getBooleanExtra NotificationTable COLUMN NAME DISMISSED false values put NotificationTable COLUMN NAME DISMISSED Integer valueOf 1 values put NotificationTable COLUMN NAME OPENED Integer valueOf 1 values JSONArray newJsonArray JSONObject jsonObject JSONArray jsonArray JSONArray jsonArray put jsonObject jsonArray com onesignal android content Context android database sqlite SQLiteDatabase android database sqlite SQLiteOpenHelper OneSignalDbHelper SQLiteOpenHelper String COMMA SEP String DATABASE NAME OneSignal db DATABASE VERSION 1 String INT TYPE INTEGER String SQL CREATE ENTRIES CREATE TABLE notification id INTEGER PRIMARY KEY notification id TEXT android notification id INTEGER group id TEXT is summary INTEGER DEFAULT 0 opened INTEGER DEFAULT 0 dismissed INTEGER DEFAULT 0 title TEXT message TEXT full data TEXT created time TIMESTAMP DEFAULT strftime s now String SQL INDEX ENTRIES CREATE INDEX notification notification id idx ON notification notification id CREATE INDEX notification android notification id idx ON notification android notification id CREATE INDEX notification group id idx ON notification group id CREATE INDEX notification created time idx ON notification created time String TEXT TYPE TEXT OneSignalDbHelper Context context context DATABASE NAME null 1 onCreate SQLiteDatabase db db execSQL SQL CREATE ENTRIES db execSQL SQL INDEX ENTRIES onUpgrade SQLiteDatabase sqLiteDatabase oldVersion newVersion com onesignal android app Activity android app AlertDialog Builder android app PendingIntent CanceledException android content Context android content DialogInterface android content DialogInterface OnClickListener android content SharedPreferences Editor android content pm PackageManager com google android gms common GooglePlayServicesUtil com google android gms gcm GoogleCloudMessaging com onesignal OneSignal LOG LEVEL com onesignal PushRegistrator RegisteredHandler java io IOException PushRegistratorGPS PushRegistrator access modifiers changed from GCM RETRY COUNT 5 access modifiers changed from Context appContext access modifiers changed from RegisteredHandler registeredHandler registerForPush Context context String googleProjectNumber RegisteredHandler callback appContext context registeredHandler callback checkPlayServices registerInBackground googleProjectNumber OneSignal Log LOG LEVEL ERROR No valid Google Play services APK found registeredHandler complete null Throwable t OneSignal Log LOG LEVEL ERROR Could not register with GCM due to an error with the AndroidManifest xml file or with Google Play services t registeredHandler complete null isGooglePlayStoreInstalled PackageManager pm appContext getPackageManager String label String pm getPackageInfo com android vending 1 applicationInfo loadLabel pm label null label equals Market false true Throwable th false checkPlayServices resultCode GooglePlayServicesUtil isGooglePlayServicesAvailable appContext resultCode 0 true GooglePlayServicesUtil isUserRecoverableError resultCode isGooglePlayStoreInstalled OneSignal Log LOG LEVEL WARN Google Play services error This device is not supported Code resultCode false OneSignal Log LOG LEVEL INFO Google Play services Recoverable Error resultCode OneSignal getGcmPreferences appContext getBoolean GT DO NOT SHOW MISSING GPS false false ShowUpdateGPSDialog resultCode false Throwable th false ShowUpdateGPSDialog resultCode OneSignal runOnUiThread Runnable run Activity activity ActivityLifecycleHandler curActivity activity null Builder activity setMessage To receive push notifications please press Update to enable Google Play services setPositiveButton Update OnClickListener onClick DialogInterface dialog which GooglePlayServicesUtil getErrorPendingIntent resultCode activity 0 send CanceledException e Throwable e2 e2 printStackTrace setNegativeButton Skip OnClickListener onClick DialogInterface dialog which Editor editor OneSignal getGcmPreferences activity edit editor putBoolean GT DO NOT SHOW MISSING GPS true editor commit setNeutralButton Close null create show registerInBackground String googleProjectNumber Thread Runnable run firedComplete false currentRetry 0 currentRetry PushRegistratorGPS GCM RETRY COUNT String registrationId GoogleCloudMessaging getInstance PushRegistratorGPS appContext register googleProjectNumber OneSignal Log LOG LEVEL INFO Device registered Google Registration ID registrationId PushRegistratorGPS registeredHandler complete registrationId IOException e GoogleCloudMessaging ERROR SERVICE NOT AVAILABLE equals e getMessage OneSignal Log LOG LEVEL ERROR Error Getting Google Registration ID e firedComplete PushRegistratorGPS registeredHandler complete null currentRetry PushRegistratorGPS GCM RETRY COUNT 1 OneSignal Log LOG LEVEL ERROR GCM RETRY COUNT of PushRegistratorGPS GCM RETRY COUNT exceed Could not get a Google Registration Id e OneSignal Log LOG LEVEL INFO Google Play services returned SERVICE NOT AVAILABLE error Current retry count currentRetry e currentRetry 2 PushRegistratorGPS registeredHandler complete null firedComplete true Thread sleep currentRetry 1 10000 Throwable th currentRetry start com onesignal android provider BaseColumns OneSignalDbContract NotificationTable BaseColumns String COLUMN NAME ANDROID NOTIFICATION ID android notification id String COLUMN NAME CREATED TIME created time String COLUMN NAME DISMISSED dismissed String COLUMN NAME FULL DATA full data String COLUMN NAME GROUP ID group id String COLUMN NAME IS SUMMARY is summary String COLUMN NAME MESSAGE message String COLUMN NAME NOTIFICATION ID notification id String COLUMN NAME OPENED opened String COLUMN NAME TITLE title String INDEX CREATE ANDROID NOTIFICATION ID CREATE INDEX notification android notification id idx ON notification android notification id String INDEX CREATE CREATED TIME CREATE INDEX notification created time idx ON notification created time String INDEX CREATE GROUP ID CREATE INDEX notification group id idx ON notification group id String INDEX CREATE NOTIFICATION ID CREATE INDEX notification notification id idx ON notification notification id String TABLE NAME notification NotificationTable OneSignalDbContract com onesignal android app Activity android os Handler android os HandlerThread android os Looper com onesignal OneSignal LOG LEVEL ActivityLifecycleHandler Activity curActivity FocusHandlerThread focusHandlerThread FocusHandlerThread ActivityAvailableListener mActivityAvailableListener nextResumeIsFirstActivity ActivityAvailableListener available Activity activity AppFocusRunnable Runnable access modifiers changed from backgrounded access modifiers changed from completed AppFocusRunnable run ActivityLifecycleHandler curActivity null backgrounded true OneSignal onAppLostFocus false completed true FocusHandlerThread HandlerThread AppFocusRunnable appFocusRunnable Handler mHandler null FocusHandlerThread FocusHandlerThread start mHandler Handler getLooper access modifiers changed from 0000 Looper getHandlerLooper mHandler getLooper access modifiers changed from 0000 resetBackgroundState appFocusRunnable null appFocusRunnable backgrounded false access modifiers changed from 0000 stopScheduledRunnable mHandler removeCallbacksAndMessages null access modifiers changed from 0000 runRunnable AppFocusRunnable runnable appFocusRunnable null appFocusRunnable backgrounded appFocusRunnable completed appFocusRunnable runnable mHandler removeCallbacksAndMessages null mHandler postDelayed runnable 2000 access modifiers changed from 0000 hasBackgrounded appFocusRunnable null appFocusRunnable backgrounded false ActivityLifecycleHandler setActivityAvailableListener ActivityAvailableListener activityAvailableListener curActivity null activityAvailableListener available curActivity mActivityAvailableListener activityAvailableListener mActivityAvailableListener activityAvailableListener removeActivityAvailableListener ActivityAvailableListener activityAvailableListener mActivityAvailableListener null setCurActivity Activity activity curActivity activity mActivityAvailableListener null mActivityAvailableListener available curActivity onActivityCreated Activity activity onActivityStarted Activity activity onActivityResumed Activity activity setCurActivity activity logCurActivity handleFocus onActivityPaused Activity activity activity curActivity curActivity null handleLostFocus logCurActivity onActivityStopped Activity activity OneSignal Log LOG LEVEL DEBUG onActivityStopped activity getClass getName activity curActivity curActivity null handleLostFocus logCurActivity onActivityDestroyed Activity activity OneSignal Log LOG LEVEL DEBUG onActivityDestroyed activity getClass getName activity curActivity curActivity null handleLostFocus logCurActivity logCurActivity OneSignal Log LOG LEVEL DEBUG curActivity is NOW curActivity null curActivity getClass getName curActivity null handleLostFocus focusHandlerThread runRunnable AppFocusRunnable handleFocus focusHandlerThread hasBackgrounded nextResumeIsFirstActivity nextResumeIsFirstActivity false focusHandlerThread resetBackgroundState OneSignal onAppFocus focusHandlerThread stopScheduledRunnable com onesignal android app IntentService android content Context android content Intent android content pm PackageManager android os Bundle android support v4 app NotificationCompat Extender com onesignal OSNotificationPayload ActionButton com onesignal OneSignal LOG LEVEL java util ArrayList org json JSONArray org json JSONException org json JSONObject NotificationExtenderService IntentService OverrideSettings currentBaseOverrideSettings null JSONObject currentJsonPayload currentlyRestoring OSNotificationDisplayedResult osNotificationDisplayedResult OverrideSettings Integer androidNotificationId Extender extender access modifiers changed from 0000 override OverrideSettings overrideSettings overrideSettings null overrideSettings androidNotificationId null androidNotificationId overrideSettings androidNotificationId onNotificationProcessing OSNotificationPayload oSNotificationPayload NotificationExtenderService NotificationExtenderService access modifiers changed from OSNotificationDisplayedResult displayNotification OverrideSettings overrideSettings osNotificationDisplayedResult null overrideSettings null null overrideSettings override currentBaseOverrideSettings osNotificationDisplayedResult OSNotificationDisplayedResult osNotificationDisplayedResult notificationId NotificationBundleProcessor Process currentlyRestoring currentJsonPayload overrideSettings osNotificationDisplayedResult access modifiers changed from onHandleIntent Intent intent processIntent intent GcmBroadcastReceiver completeWakefulIntent intent processIntent Intent intent Bundle bundle intent getExtras currentJsonPayload JSONObject bundle getString json payload currentlyRestoring bundle getBoolean restoring false bundle containsKey android notif id currentBaseOverrideSettings OverrideSettings currentBaseOverrideSettings androidNotificationId Integer valueOf bundle getInt android notif id currentlyRestoring OneSignal notValidOrDuplicated currentJsonPayload processJsonObject currentJsonPayload currentlyRestoring JSONException e e printStackTrace access modifiers changed from 0000 processJsonObject JSONObject currentJsonPayload2 restoring OSNotificationPayload notification OSNotificationPayload JSONObject customJson JSONObject currentJsonPayload2 optString custom notification notificationId customJson optString i notification additionalData customJson optJSONObject a notification launchUrl customJson optString u null notification message currentJsonPayload2 optString alert null notification title currentJsonPayload2 optString title null notification smallIcon currentJsonPayload2 optString sicon null notification bigPicture currentJsonPayload2 optString bicon null notification largeIcon currentJsonPayload2 optString licon null notification sound currentJsonPayload2 optString sound null notification group currentJsonPayload2 optString grp null notification groupMessage currentJsonPayload2 optString grp msg null notification backgroundColor currentJsonPayload2 optString bgac null notification ledColor currentJsonPayload2 optString ledc null String visibility currentJsonPayload2 optString vis null visibility null notification visibility Integer parseInt visibility notification backgroundData 1 equals currentJsonPayload2 optString bgn null notification fromProjectNumber currentJsonPayload2 optString from null notification restoring restoring notification additionalData null notification additionalData has actionButtons JSONArray jsonActionButtons notification additionalData getJSONArray actionButtons notification actionButtons ArrayList i 0 i jsonActionButtons length i JSONObject jsonActionButton jsonActionButtons getJSONObject i ActionButton actionButton ActionButton actionButton id jsonActionButton getString id actionButton text jsonActionButton getString text actionButton icon jsonActionButton optString icon null notification actionButtons add actionButton notification additionalData remove actionSelected notification additionalData remove actionButtons Throwable t OneSignal Log LOG LEVEL ERROR Error assigning OSNotificationPayload values t osNotificationDisplayedResult null developerProcessed false developerProcessed onNotificationProcessing notification Throwable t2 osNotificationDisplayedResult null OneSignal Log LOG LEVEL ERROR onNotificationProcessing an exception Displaying normal OneSignal notification t2 OneSignal Log LOG LEVEL ERROR onNotificationProcessing an exception Extended notification displayed but custom processing did not finish t2 osNotificationDisplayedResult null developerProcessed NotificationBundleProcessor Process currentlyRestoring currentJsonPayload2 currentBaseOverrideSettings restoring NotificationBundleProcessor saveNotification Context currentJsonPayload2 true 1 Intent getIntent Context context PackageManager packageManager context getPackageManager Intent intent Intent setAction com onesignal NotificationExtender setPackage context getPackageName packageManager queryIntentServices intent 128 size 1 null intent com onesignal android app IntentService android content Intent GcmIntentService IntentService GcmIntentService GcmIntentService access modifiers changed from onHandleIntent Intent intent NotificationBundleProcessor ProcessFromGCMIntentService intent getExtras null GcmBroadcastReceiver completeWakefulIntent intent com onesignal android content ComponentName android content Context android content Intent android content ServiceConnection android content SharedPreferences android content SharedPreferences Editor android os Bundle android os IBinder com onesignal OneSignal IdsAvailableHandler com onesignal OneSignal LOG LEVEL java lang reflect Method java math BigDecimal java util ArrayList java util HashMap java util Iterator java util Map org json JSONArray org json JSONException org json JSONObject TrackGooglePurchase access modifiers changed from Class IInAppBillingServiceClass access modifiers changed from iapEnabled 99 access modifiers changed from Context appContext access modifiers changed from Method getPurchasesMethod Method getSkuDetailsMethod access modifiers changed from isWaitingForPurchasesRequest false access modifiers changed from Object mIInAppBillingService ServiceConnection mServiceConn access modifiers changed from newAsExisting true access modifiers changed from Editor prefsEditor access modifiers changed from ArrayList String purchaseTokens TrackGooglePurchase Context activity z true appContext activity SharedPreferences prefs appContext getSharedPreferences GTPlayerPurchases 0 prefsEditor prefs edit purchaseTokens ArrayList JSONArray jsonPurchaseTokens JSONArray prefs getString purchaseTokens i 0 i jsonPurchaseTokens length i purchaseTokens add jsonPurchaseTokens get i toString jsonPurchaseTokens length 0 z false newAsExisting z newAsExisting newAsExisting prefs getBoolean ExistingPurchases true JSONException e e printStackTrace trackIAP CanTrack Context context iapEnabled 99 iapEnabled context checkCallingOrSelfPermission com android vending BILLING iapEnabled 0 IInAppBillingServiceClass Class forName com android vending billing IInAppBillingService iapEnabled 0 true false Throwable th iapEnabled 0 false access modifiers changed from 0000 trackIAP mServiceConn null mServiceConn ServiceConnection onServiceDisconnected ComponentName name TrackGooglePurchase iapEnabled 99 TrackGooglePurchase mIInAppBillingService null onServiceConnected ComponentName name IBinder service Method asInterfaceMethod TrackGooglePurchase getAsInterfaceMethod Class forName com android vending billing IInAppBillingService Stub asInterfaceMethod setAccessible true TrackGooglePurchase mIInAppBillingService asInterfaceMethod invoke null Object service TrackGooglePurchase QueryBoughtItems Throwable t t printStackTrace Intent serviceIntent Intent com android vending billing InAppBillingService BIND serviceIntent setPackage com android vending appContext bindService serviceIntent mServiceConn 1 mIInAppBillingService null QueryBoughtItems access modifiers changed from QueryBoughtItems isWaitingForPurchasesRequest Thread Runnable run TrackGooglePurchase isWaitingForPurchasesRequest true TrackGooglePurchase getPurchasesMethod null TrackGooglePurchase getPurchasesMethod TrackGooglePurchase getGetPurchasesMethod TrackGooglePurchase IInAppBillingServiceClass TrackGooglePurchase getPurchasesMethod setAccessible true Bundle ownedItems Bundle TrackGooglePurchase getPurchasesMethod invoke TrackGooglePurchase mIInAppBillingService Object Integer valueOf 3 TrackGooglePurchase appContext getPackageName inapp null ownedItems getInt RESPONSE CODE 0 ArrayList String skusToAdd ArrayList ArrayList String newPurchaseTokens ArrayList ArrayList String ownedSkus ownedItems getStringArrayList INAPP PURCHASE ITEM LIST ArrayList String purchaseDataList ownedItems getStringArrayList INAPP PURCHASE DATA LIST i 0 i purchaseDataList size i String sku String ownedSkus get i String purchaseToken JSONObject String purchaseDataList get i getString purchaseToken TrackGooglePurchase purchaseTokens contains purchaseToken newPurchaseTokens contains purchaseToken newPurchaseTokens add purchaseToken skusToAdd add sku skusToAdd size 0 TrackGooglePurchase sendPurchases skusToAdd newPurchaseTokens purchaseDataList size 0 TrackGooglePurchase newAsExisting false TrackGooglePurchase prefsEditor putBoolean ExistingPurchases false TrackGooglePurchase prefsEditor commit Throwable e e printStackTrace TrackGooglePurchase isWaitingForPurchasesRequest false start access modifiers changed from sendPurchases ArrayList String skusToAdd ArrayList String newPurchaseTokens getSkuDetailsMethod null getSkuDetailsMethod getGetSkuDetailsMethod IInAppBillingServiceClass getSkuDetailsMethod setAccessible true Bundle querySkus Bundle querySkus putStringArrayList ITEM ID LIST skusToAdd Bundle skuDetails Bundle getSkuDetailsMethod invoke mIInAppBillingService Object Integer valueOf 3 appContext getPackageName inapp querySkus skuDetails getInt RESPONSE CODE 0 ArrayList String responseList skuDetails getStringArrayList DETAILS LIST Map String JSONObject currentSkus HashMap Iterator i responseList iterator i hasNext JSONObject object JSONObject String i next String sku object getString productId BigDecimal price BigDecimal object getString price amount micros divide BigDecimal 1000000 JSONObject jsonItem JSONObject jsonItem put sku sku jsonItem put iso object getString price currency code jsonItem put amount price toString currentSkus put sku jsonItem JSONArray purchasesToReport JSONArray Iterator i 2 skusToAdd iterator i 2 hasNext String sku2 String i 2 next currentSkus containsKey sku2 purchasesToReport put currentSkus get sku2 purchasesToReport length 0 JSONArray finalPurchasesToReport purchasesToReport ArrayList String arrayList newPurchaseTokens AnonymousClass3 r0 IdsAvailableHandler idsAvailable String userId String registrationId OneSignal sendPurchases finalPurchasesToReport TrackGooglePurchase newAsExisting ResponseHandler onFailure statusCode JSONObject response Throwable throwable OneSignal Log LOG LEVEL WARN HTTP sendPurchases failed to send throwable TrackGooglePurchase isWaitingForPurchasesRequest false onSuccess String response TrackGooglePurchase purchaseTokens addAll arrayList TrackGooglePurchase prefsEditor putString purchaseTokens TrackGooglePurchase purchaseTokens toString TrackGooglePurchase prefsEditor remove ExistingPurchases TrackGooglePurchase prefsEditor commit TrackGooglePurchase newAsExisting false TrackGooglePurchase isWaitingForPurchasesRequest false OneSignal idsAvailable r0 Throwable t OneSignal Log LOG LEVEL WARN Failed to track IAP purchases t access modifiers changed from Method getAsInterfaceMethod Class clazz Method arr Method method clazz getMethods Class args method getParameterTypes args length 1 args 0 IBinder method null access modifiers changed from Method getGetPurchasesMethod Class clazz Method arr Method method clazz getMethods Class args method getParameterTypes args length 4 args 0 Integer TYPE args 1 String args 2 String args 3 String method null Method getGetSkuDetailsMethod Class clazz Method arr Method method clazz getMethods Class args method getParameterTypes args length 4 args 0 Integer TYPE args 1 String args 2 String args 3 Bundle method null com onesignal android content ComponentName android content Context android content Intent android support v4 content WakefulBroadcastReceiver UpgradeReceiver WakefulBroadcastReceiver onReceive Context context Intent intent Intent intentForService Intent intentForService setComponent ComponentName context getPackageName NotificationRestoreService getName startWakefulService context intentForService com onesignal android content Context com amazon device iap PurchasingListener com amazon device iap PurchasingService com amazon device iap model Product com amazon device iap model ProductDataResponse com amazon device iap model ProductDataResponse RequestStatus com amazon device iap model PurchaseResponse com amazon device iap model PurchaseUpdatesResponse com amazon device iap model RequestId com amazon device iap model UserDataResponse java lang reflect Field java util HashSet java util Map java util Set org json JSONArray org json JSONObject TrackAmazonPurchase canTrack false Context context OSPurchasingListener gtPurchasingListener Class listnerHandlerClass Field listnerHandlerField Object listnerHandlerObject renamed from com onesignal TrackAmazonPurchase 1 synthetic AnonymousClass1 synthetic SwitchMap com amazon device iap model ProductDataResponse RequestStatus RequestStatus values length SwitchMap com amazon device iap model ProductDataResponse RequestStatus RequestStatus SUCCESSFUL ordinal 1 NoSuchFieldError e OSPurchasingListener PurchasingListener String TAG OneSignalSDK AmazonIAP String currentMarket RequestId lastRequestId PurchasingListener orgPurchasingListener OSPurchasingListener synthetic OSPurchasingListener TrackAmazonPurchase x0 AnonymousClass1 x1 String marketToCurrencyCode String market c 65535 market hashCode 2100 market equals AU c 9 2128 market equals BR c 8 2142 market equals CA c 7 2177 market equals DE c 2 2222 market equals ES c 4 2252 market equals FR c 3 2267 market equals GB c 1 2347 market equals IT c 5 2374 market equals JP c 6 2718 market equals US c 0 c 0 USD 1 GBP 2 3 4 5 EUR 6 JPY 7 CDN 8 BRL 9 AUD onProductDataResponse ProductDataResponse response lastRequestId null lastRequestId toString equals response getRequestId toString AnonymousClass1 SwitchMap com amazon device iap model ProductDataResponse RequestStatus response getRequestStatus ordinal 1 JSONArray purchasesToReport JSONArray Map String Product products response getProductData String key products keySet Product product Product products get key JSONObject jsonItem JSONObject jsonItem put sku product getSku jsonItem put iso marketToCurrencyCode currentMarket String price product getPrice price matches 0 9 price price substring 1 jsonItem put amount price purchasesToReport put jsonItem OneSignal sendPurchases purchasesToReport false null Throwable t t printStackTrace t printStackTrace orgPurchasingListener null orgPurchasingListener onProductDataResponse response onPurchaseResponse PurchaseResponse response response getRequestStatus PurchaseResponse RequestStatus SUCCESSFUL currentMarket response getUserData getMarketplace Set String productSkus HashSet productSkus add response getReceipt getSku lastRequestId PurchasingService getProductData productSkus Throwable t t printStackTrace orgPurchasingListener null orgPurchasingListener onPurchaseResponse response onPurchaseUpdatesResponse PurchaseUpdatesResponse response orgPurchasingListener null orgPurchasingListener onPurchaseUpdatesResponse response onUserDataResponse UserDataResponse response orgPurchasingListener null orgPurchasingListener onUserDataResponse response TrackAmazonPurchase Context context2 context context2 listnerHandlerClass Class forName com amazon device iap internal d listnerHandlerObject listnerHandlerClass getMethod d Class 0 invoke null Object 0 listnerHandlerField listnerHandlerClass getDeclaredField f listnerHandlerField setAccessible true gtPurchasingListener OSPurchasingListener null gtPurchasingListener orgPurchasingListener PurchasingListener listnerHandlerField get listnerHandlerObject canTrack true setListener Throwable th setListener PurchasingService registerListener context gtPurchasingListener checkListener canTrack PurchasingListener curPurchasingListener PurchasingListener listnerHandlerField get listnerHandlerObject curPurchasingListener gtPurchasingListener gtPurchasingListener orgPurchasingListener curPurchasingListener setListener Throwable th com onesignal android app Service android content Intent android os IBinder android support annotation Nullable SyncService Service access modifiers changed from checkOnFocusSync unsentTime OneSignal GetUnsentActiveTime unsentTime 60 OneSignal sendOnFocus unsentTime true onCreate OneSignal appContext null OneSignal appContext getApplicationContext Thread Runnable run OneSignal getUserId null SyncService stopSelf OneSignal appId OneSignal getSavedAppId OneSignalStateSynchronizer initUserState OneSignal appContext OneSignalStateSynchronizer syncUserState true SyncService checkOnFocusSync SyncService stopSelf start onStartCommand Intent intent flags startId 1 Nullable IBinder onBind Intent intent null onTaskRemoved Intent rootIntent onTaskRemoved rootIntent onTaskRemoved onTaskRemoved ActivityLifecycleHandler focusHandlerThread stopScheduledRunnable OneSignalStateSynchronizer stopAndPersist OneSignal onAppLostFocus true com onesignal android content BroadcastReceiver android content Context android content Intent NotificationOpenedReceiver BroadcastReceiver onReceive Context context Intent intent NotificationOpenedProcessor processFromActivity context intent com onesignal com onesignal OneSignal LOG LEVEL java io InputStream java net HttpURLConnection java net URL java util Scanner org json JSONObject OneSignalRestClient String BASE URL https onesignal com api v1 TIMEOUT 120000 ResponseHandler ResponseHandler access modifiers changed from 0000 onSuccess String response access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignalRestClient put String url JSONObject jsonBody ResponseHandler responseHandler Thread Runnable run OneSignalRestClient makeRequest url PUT jsonBody responseHandler start post String url JSONObject jsonBody ResponseHandler responseHandler Thread Runnable run OneSignalRestClient makeRequest url POST jsonBody responseHandler start getSync String url ResponseHandler responseHandler makeRequest url null null responseHandler putSync String url JSONObject jsonBody ResponseHandler responseHandler makeRequest url PUT jsonBody responseHandler postSync String url JSONObject jsonBody ResponseHandler responseHandler makeRequest url POST jsonBody responseHandler access modifiers changed from makeRequest String url String method JSONObject jsonBody ResponseHandler responseHandler HttpURLConnection con null httpResponse 1 String json null OneSignal Log LOG LEVEL DEBUG BASE URL url con HttpURLConnection URL BASE URL url openConnection con setUseCaches false con setConnectTimeout TIMEOUT con setReadTimeout TIMEOUT jsonBody null con setDoInput true method null con setRequestProperty Content Type application json charset UTF 8 con setRequestMethod method con setDoOutput true jsonBody null String strJsonBody jsonBody toString OneSignal Log LOG LEVEL DEBUG method SEND JSON strJsonBody sendBytes strJsonBody getBytes UTF 8 con setFixedLengthStreamingMode sendBytes length con getOutputStream write sendBytes httpResponse con getResponseCode httpResponse 200 Scanner scanner Scanner con getInputStream UTF 8 String json2 scanner useDelimiter A hasNext scanner next scanner close OneSignal Log LOG LEVEL DEBUG method RECEIVED JSON json2 responseHandler null responseHandler onSuccess json2 InputStream inputStream con getErrorStream inputStream null inputStream con getInputStream inputStream null Scanner scanner2 Scanner inputStream UTF 8 json scanner2 useDelimiter A hasNext scanner2 next scanner2 close OneSignal Log LOG LEVEL WARN method RECEIVED JSON json OneSignal Log LOG LEVEL WARN method HTTP Code httpResponse No response body responseHandler null responseHandler onFailure httpResponse json null con null con disconnect Throwable th con null con disconnect th com onesignal CoronaProvider gameNetwork google Listener android content Context android content Intent android os Bundle com onesignal OneSignal LOG LEVEL Deprecated BackgroundBroadcaster BackgroundBroadcaster Invoke Context context Bundle extras isActive extras containsKey bgn 1 equals extras getString bgn Intent intent Intent intent setAction com onesignal BackgroundBroadcast RECEIVE intent setPackage context getPackageName Bundle fullBundle Bundle extras fullBundle putBoolean isActive isActive intent putExtra Listener DATA fullBundle context sendBroadcast intent OneSignal Log LOG LEVEL VERBOSE Sent OneSignal BackgroundBroadcaster com onesignal android app Activity android app Application android app NotificationManager android content ContentValues android content Context android content Intent android content SharedPreferences android content SharedPreferences Editor android content pm PackageInfo android content pm PackageManager android content pm PackageManager NameNotFoundException android database Cursor android database sqlite SQLiteDatabase android net Uri android os Build android os Build VERSION android os Bundle android os Handler android os Looper android os SystemClock android util Base64 android util Log com onesignal PushRegistrator RegisteredHandler java io PrintWriter java io StringWriter java security MessageDigest java util ArrayList java util Calendar java util Collection java util Date java util Iterator java util List java util Locale java util TimeZone java util UUID org json JSONArray org json JSONException org json JSONObject OneSignal MIN ON FOCUS TIME 60 String TAG OneSignal String VERSION 020550 Context appContext String appId access modifiers changed from deviceType foreground access modifiers changed from getTagsCall IdsAvailableHandler idsAvailableHandler initDone access modifiers changed from Float lastLocAcc access modifiers changed from Double lastLocLat access modifiers changed from Double lastLocLong access modifiers changed from Integer lastLocType access modifiers changed from String lastRegistrationId lastTrackedTime 1 access modifiers changed from locationFired LOG LEVEL logCatLevel LOG LEVEL WARN String mGoogleProjectNumber Builder mInitBuilder access modifiers changed from AdvertisingIdentifierProvider mainAdIdProvider AdvertisingIdProviderGPS access modifiers changed from NotificationOpenedHandler notificationOpenedHandler access modifiers changed from OSUtils osUtils GetTagsHandler pendingGetTagsHandler ranSessionInitThread access modifiers changed from registerForPushFired String sdkType startedRegistration access modifiers changed from subscribableStatus 1 TrackAmazonPurchase trackAmazonPurchase TrackGooglePurchase trackGooglePurchase unSentActiveTime 1 Collection JSONArray unprocessedOpenedNotifis ArrayList String userId null LOG LEVEL visualLogLevel LOG LEVEL NONE Builder Context mContext NotificationOpenedHandler mNotificationOpenedHandler mPromptLocation Builder Builder Context context mContext context Builder setNotificationOpenedHandler NotificationOpenedHandler handler mNotificationOpenedHandler handler Builder setAutoPromptLocation enable mPromptLocation enable init OneSignal init GetTagsHandler tagsAvailable JSONObject jSONObject IdsAvailableHandler idsAvailable String str String str2 LOG LEVEL NONE FATAL ERROR WARN INFO DEBUG VERBOSE NotificationOpenedHandler notificationOpened String str JSONObject jSONObject z PostNotificationResponseHandler onFailure JSONObject jSONObject onSuccess JSONObject jSONObject Builder startInit Context context Builder context access modifiers changed from init Builder inBuilder mInitBuilder inBuilder Context context mInitBuilder mContext mInitBuilder mContext null Bundle bundle context getPackageManager getApplicationInfo context getPackageName 128 metaData init context bundle getString onesignal google project number substring 4 bundle getString onesignal app id mInitBuilder mNotificationOpenedHandler Throwable t t printStackTrace init Context context String googleProjectNumber String oneSignalAppId init context googleProjectNumber oneSignalAppId null init Context context String googleProjectNumber String oneSignalAppId NotificationOpenedHandler inNotificationOpenedHandler mInitBuilder null mInitBuilder Builder osUtils OSUtils deviceType osUtils getDeviceType UUID fromString oneSignalAppId b2f7f966 d8cc 4 bed1 df8f05be55ba equals oneSignalAppId b5a37e b458 3 ac11 equals oneSignalAppId Log LOG LEVEL WARN OneSignal Example AppID detected please update to your app s id found on OneSignal com deviceType 1 Double parseDouble googleProjectNumber googleProjectNumber length 8 googleProjectNumber length 16 IllegalArgumentException Google Project number Sender ID should be a 10 to 14 digit number in length Throwable t Log LOG LEVEL FATAL Google Project number Sender ID format is invalid Please use the 10 to 14 digit number found in the Google Developer Console your project nExample 703322744261 n t subscribableStatus 6 Class forName com google android gms gcm GoogleCloudMessaging ClassNotFoundException e Log LOG LEVEL FATAL The GCM Google Play services client library was not found Please make sure to include it in your project e subscribableStatus 4 Class forName com google android gms common GooglePlayServicesUtil ClassNotFoundException e2 Log LOG LEVEL FATAL The GooglePlayServicesUtil part of Google Play services client library was not found Include in your project e2 subscribableStatus 4 mGoogleProjectNumber googleProjectNumber Class forName android support v4 view MenuCompat Class forName android support v4 content WakefulBroadcastReceiver Class forName android support v4 app NotificationManagerCompat ClassNotFoundException e3 Log LOG LEVEL FATAL The included Android Support Library v4 is to old or incomplete Please update your project s android support v4 jar to the latest revision e3 subscribableStatus 5 ClassNotFoundException e4 Log LOG LEVEL FATAL Could not find the Android Support Library v4 Please make sure android support v4 jar has been correctly added to your project e4 subscribableStatus 3 initDone context null appContext context getApplicationContext inNotificationOpenedHandler null notificationOpenedHandler inNotificationOpenedHandler notificationOpenedHandler null fireCallbackForOpenedNotifications contextIsActivity context Activity foreground contextIsActivity appId oneSignalAppId appContext context getApplicationContext contextIsActivity ActivityLifecycleHandler curActivity Activity context NotificationRestorer asyncRestore appContext ActivityLifecycleHandler nextResumeIsFirstActivity true notificationOpenedHandler inNotificationOpenedHandler lastTrackedTime SystemClock elapsedRealtime OneSignalStateSynchronizer initUserState appContext appContext startService Intent appContext SyncService VERSION SDK INT 13 Application appContext registerActivityLifecycleCallbacks ActivityLifecycleListener ActivityLifecycleListenerCompat startListener Class forName com amazon device iap PurchasingListener trackAmazonPurchase TrackAmazonPurchase appContext ClassNotFoundException e5 String oldAppId getSavedAppId oldAppId null BadgeCountUpdater updateCount 0 appContext SaveAppId appId oldAppId equals appId Log LOG LEVEL DEBUG APP ID changed clearing user id as it is no longer valid SaveAppId appId OneSignalStateSynchronizer resetCurrentState foreground getUserId null startRegistrationOrOnSession notificationOpenedHandler null fireCallbackForOpenedNotifications TrackGooglePurchase CanTrack appContext trackGooglePurchase TrackGooglePurchase appContext initDone true Throwable t2 Log LOG LEVEL FATAL OneSignal AppId format is invalid nExample b2f7f966 d8cc 4 bed1 df8f05be55ba n t2 startRegistrationOrOnSession PushRegistrator pushRegistrator startedRegistration startedRegistration true deviceType 2 pushRegistrator PushRegistratorADM pushRegistrator PushRegistratorGPS pushRegistrator registerForPush appContext mGoogleProjectNumber RegisteredHandler complete String id OneSignal lastRegistrationId id OneSignal registerForPushFired true OneSignal registerUser LocationGMS getLocation appContext mInitBuilder mPromptLocation LocationHandler complete Double lat Double log Float accuracy Integer type OneSignal lastLocLat lat OneSignal lastLocLong log OneSignal lastLocAcc accuracy OneSignal lastLocType type OneSignal locationFired true OneSignal registerUser fireCallbackForOpenedNotifications JSONArray dataArray unprocessedOpenedNotifis runNotificationOpenedCallback dataArray false unprocessedOpenedNotifis clear updateRegistrationId String orgRegId OneSignalStateSynchronizer getRegistrationId lastRegistrationId null lastRegistrationId equals orgRegId OneSignalStateSynchronizer updateIdentifier lastRegistrationId fireIdsAvailableCallback setLogLevel LOG LEVEL inLogCatLevel LOG LEVEL inVisualLogLevel logCatLevel inLogCatLevel visualLogLevel inVisualLogLevel setLogLevel inLogCatLevel inVisualLogLevel setLogLevel getLogLevel inLogCatLevel getLogLevel inVisualLogLevel LOG LEVEL getLogLevel level level 0 LOG LEVEL NONE 1 LOG LEVEL FATAL 2 LOG LEVEL ERROR 3 LOG LEVEL WARN 4 LOG LEVEL INFO 5 LOG LEVEL DEBUG 6 LOG LEVEL VERBOSE level 0 LOG LEVEL NONE LOG LEVEL VERBOSE atLogLevel LOG LEVEL level level compareTo visualLogLevel 1 level compareTo logCatLevel 1 Log LOG LEVEL level String message Log level message null Log LOG LEVEL level String message Throwable throwable level compareTo logCatLevel 1 level LOG LEVEL VERBOSE Log v TAG message throwable level LOG LEVEL DEBUG Log d TAG message throwable level LOG LEVEL INFO Log i TAG message throwable level LOG LEVEL WARN Log w TAG message throwable level LOG LEVEL ERROR level LOG LEVEL FATAL Log e TAG message throwable level compareTo visualLogLevel 1 ActivityLifecycleHandler curActivity null String fullMessage message n throwable null String fullMessage2 fullMessage throwable getMessage StringWriter sw StringWriter throwable printStackTrace PrintWriter sw fullMessage fullMessage2 sw toString String finalFullMessage fullMessage runOnUiThread Runnable run ActivityLifecycleHandler curActivity null android app AlertDialog Builder ActivityLifecycleHandler curActivity setTitle level toString setMessage finalFullMessage show Throwable t Log e TAG Error showing logging message t access modifiers changed from logHttpError String errorString statusCode Throwable throwable String errorResponse String jsonError errorResponse null atLogLevel LOG LEVEL INFO jsonError n errorResponse n Log LOG LEVEL WARN HTTP code statusCode errorString jsonError throwable onPaused Log LOG LEVEL INFO Deprecated onPaused is now tracked automatically please remove calls to OneSignal onPaused and OneSignal onResume onAppLostFocus onlySave foreground false initDone trackAmazonPurchase null trackAmazonPurchase checkListener lastTrackedTime 1 time elapsed SystemClock elapsedRealtime lastTrackedTime 1000 0 lastTrackedTime SystemClock elapsedRealtime time elapsed 0 time elapsed 604800 appContext null Log LOG LEVEL ERROR Android Context not found please call OneSignal init when your app starts totalTimeActive GetUnsentActiveTime time elapsed onlySave totalTimeActive MIN ON FOCUS TIME getUserId null SaveUnsentActiveTime totalTimeActive sendOnFocus totalTimeActive true sendOnFocus totalTimeActive synchronous JSONObject jsonBody JSONObject jsonBody put app id appId jsonBody put state ping jsonBody put active time totalTimeActive addNetType jsonBody String url players getUserId on focus ResponseHandler responseHandler ResponseHandler access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignal logHttpError sending on focus Failed statusCode throwable response access modifiers changed from 0000 onSuccess String response OneSignal SaveUnsentActiveTime 0 synchronous OneSignalRestClient postSync url jsonBody responseHandler OneSignalRestClient post url jsonBody responseHandler Throwable t Log LOG LEVEL ERROR Generating on focus JSON Failed t onResumed Log LOG LEVEL INFO Deprecated onResumed is now tracked automatically please remove calls to OneSignal onPaused and OneSignal onResume onAppFocus foreground true lastTrackedTime SystemClock elapsedRealtime startRegistrationOrOnSession trackGooglePurchase null trackGooglePurchase trackIAP NotificationRestorer asyncRestore appContext isForeground foreground addNetType JSONObject jsonObj jsonObj put net type osUtils getNetType Throwable th access modifiers changed from getTimeZoneOffset TimeZone timezone Calendar getInstance getTimeZone offset timezone getRawOffset timezone inDaylightTime Date offset timezone getDSTSavings offset 1000 access modifiers changed from registerUser Log LOG LEVEL DEBUG registerUser registerForPushFired registerForPushFired locationFired locationFired registerForPushFired locationFired ranSessionInitThread updateRegistrationId ranSessionInitThread true Thread Runnable run UserState userState OneSignalStateSynchronizer getNewUserState String packageName OneSignal appContext getPackageName PackageManager packageManager OneSignal appContext getPackageManager userState set app id OneSignal appId userState set identifier OneSignal lastRegistrationId String adId OneSignal mainAdIdProvider getIdentifier OneSignal appContext adId null adId AdvertisingIdProviderFallback getIdentifier OneSignal appContext userState set ad id adId userState set device os VERSION RELEASE userState set timezone Integer valueOf OneSignal getTimeZoneOffset userState set language Locale getDefault getLanguage userState set sdk OneSignal VERSION userState set sdk type OneSignal sdkType userState set android packageName userState set device model Build MODEL userState set device type Integer valueOf OneSignal deviceType userState setState subscribableStatus Integer valueOf OneSignal subscribableStatus userState set game version Integer valueOf packageManager getPackageInfo packageName 0 versionCode NameNotFoundException e List PackageInfo packList packageManager getInstalledPackages 0 JSONArray pkgs JSONArray MessageDigest md MessageDigest getInstance SHA 256 i 0 i packList size PackageInfo packList get i applicationInfo flags 1 0 packageName equals PackageInfo packList get i packageName md update PackageInfo packList get i packageName getBytes pkgs put Base64 encodeToString md digest 2 i userState set pkgs pkgs Throwable th userState set net type OneSignal osUtils getNetType userState set carrier OneSignal osUtils getCarrierName userState set rooted Boolean valueOf RootToolsInternalMethods isRooted userState set lat OneSignal lastLocLat userState set OneSignal lastLocLong userState set loc acc OneSignal lastLocAcc userState set loc type OneSignal lastLocType OneSignalStateSynchronizer postSession userState start setEmail String email appContext null Log LOG LEVEL ERROR You must initialize OneSignal before setting email Omitting operation sendTag String key String value sendTags JSONObject put key value JSONException t t printStackTrace sendTags String jsonString sendTags JSONObject jsonString JSONException t Log LOG LEVEL ERROR Generating JSONObject sendTags failed t sendTags JSONObject keyValues appContext null Log LOG LEVEL ERROR You must initialize OneSignal before modifying tags Omitting tag operation keyValues null JSONObject existingKeys OneSignalStateSynchronizer getTags false result JSONObject toSend JSONObject Iterator String keys keyValues keys keys hasNext String key String keys next Object value keyValues get key value JSONArray value JSONObject Log LOG LEVEL ERROR Omitting key key sendTags DO NOT supported nested values keyValues isNull key equals value toSend put key value toString existingKeys has key toSend put key Throwable th toSend toString equals OneSignalStateSynchronizer sendTags toSend postNotification String json PostNotificationResponseHandler handler postNotification JSONObject json handler JSONException e Log LOG LEVEL ERROR Invalid postNotification JSON format json postNotification JSONObject json PostNotificationResponseHandler handler json put app id getSavedAppId OneSignalRestClient post notifications json ResponseHandler onSuccess String response OneSignal Log LOG LEVEL DEBUG HTTP create notification success response null response null handler null JSONObject jsonObject JSONObject response jsonObject has errors handler onFailure jsonObject handler onSuccess JSONObject response Throwable t t printStackTrace access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignal logHttpError create notification failed statusCode throwable response statusCode 0 response error HTTP no response error handler null handler onFailure JSONObject response Throwable th handler onFailure null JSONException e Log LOG LEVEL ERROR HTTP create notification json exception e handler null handler onFailure JSONObject error HTTP create notification json exception JSONException e1 e1 printStackTrace getTags GetTagsHandler getTagsHandler appContext null Log LOG LEVEL ERROR You must initialize OneSignal before getting tags Omitting tag operation getTagsHandler null Log LOG LEVEL ERROR getTagsHandler is null getUserId null pendingGetTagsHandler getTagsHandler internalFireGetTagsCallback getTagsHandler internalFireGetTagsCallback GetTagsHandler getTagsHandler getTagsHandler null Thread Runnable run GetTagsResult tags OneSignalStateSynchronizer getTags OneSignal getTagsCall tags serverSuccess OneSignal getTagsCall true tags result null tags toString equals getTagsHandler tagsAvailable null getTagsHandler tagsAvailable tags result start deleteTag String key Collection String tempList ArrayList 1 tempList add key deleteTags tempList deleteTags Collection String keys JSONObject jsonTags JSONObject String key keys jsonTags put key sendTags jsonTags Throwable t Log LOG LEVEL ERROR Failed to generate JSON deleteTags t deleteTags String jsonArrayString JSONObject jsonTags JSONObject JSONArray jsonArray JSONArray jsonArrayString i 0 i jsonArray length i jsonTags put jsonArray getString i sendTags jsonTags Throwable t Log LOG LEVEL ERROR Failed to generate JSON deleteTags t idsAvailable IdsAvailableHandler inIdsAvailableHandler idsAvailableHandler inIdsAvailableHandler getUserId null internalFireIdsAvailableCallback fireIdsAvailableCallback idsAvailableHandler null runOnUiThread Runnable run OneSignal internalFireIdsAvailableCallback access modifiers changed from internalFireIdsAvailableCallback idsAvailableHandler null String regId OneSignalStateSynchronizer getRegistrationId OneSignalStateSynchronizer getSubscribed regId null String userId2 getUserId userId2 null idsAvailableHandler idsAvailable userId2 regId regId null idsAvailableHandler null sendPurchases JSONArray purchases newAsExisting ResponseHandler responseHandler getUserId null JSONObject jsonBody JSONObject jsonBody put app id appId newAsExisting jsonBody put existing true jsonBody put purchases purchases OneSignalRestClient post players getUserId on purchase jsonBody responseHandler Throwable t Log LOG LEVEL ERROR Failed to generate JSON sendPurchases t openURLFromNotification Context context JSONArray dataArray jsonArraySize dataArray length urlOpened false i 0 i jsonArraySize i JSONObject data dataArray getJSONObject i data has custom JSONObject customJSON JSONObject data getString custom customJSON has u String url customJSON getString u url contains url http url Intent intent Intent android intent action VIEW Uri parse url intent addFlags 1476919296 context startActivity intent urlOpened true Throwable t Log LOG LEVEL ERROR Error parsing JSON item i jsonArraySize launching a web URL t urlOpened runNotificationOpenedCallback JSONArray dataArray isActive JSONObject completeAdditionalData notificationOpenedHandler null unprocessedOpenedNotifis add dataArray jsonArraySize dataArray length String firstMessage null i 0 JSONObject completeAdditionalData2 null i jsonArraySize JSONObject data dataArray getJSONObject i JSONObject additionalDataJSON null data has custom JSONObject customJSON JSONObject data getString custom additionalDataJSON JSONObject customJSON has a additionalDataJSON customJSON getJSONObject a data has title additionalDataJSON put title data getString title customJSON has u additionalDataJSON put launchURL customJSON getString u data has sound additionalDataJSON put sound data getString sound data has sicon additionalDataJSON put smallIcon data getString sicon data has licon additionalDataJSON put largeIcon data getString licon data has bicon additionalDataJSON put bigPicture data getString bicon additionalDataJSON equals JSONObject additionalDataJSON null firstMessage null completeAdditionalData additionalDataJSON firstMessage data getString alert Throwable th t th i completeAdditionalData2 completeAdditionalData completeAdditionalData2 null completeAdditionalData JSONObject completeAdditionalData completeAdditionalData2 completeAdditionalData has stacked notifications completeAdditionalData put stacked notifications JSONArray additionalDataJSON put NotificationTable COLUMN NAME MESSAGE data getString alert completeAdditionalData getJSONArray stacked notifications put additionalDataJSON i completeAdditionalData2 completeAdditionalData Throwable th2 t th2 JSONObject completeAdditionalData3 completeAdditionalData2 Log LOG LEVEL ERROR Error parsing JSON item i jsonArraySize callback t i completeAdditionalData2 completeAdditionalData fireNotificationOpenedHandler firstMessage completeAdditionalData2 isActive fireNotificationOpenedHandler String message JSONObject additionalDataJSON isActive Looper getMainLooper getThread Thread currentThread notificationOpenedHandler notificationOpened message additionalDataJSON isActive runOnUiThread Runnable run OneSignal notificationOpenedHandler notificationOpened message additionalDataJSON isActive handleNotificationOpened JSONArray data sendNotificationOpened appContext data runNotificationOpenedCallback data true handleNotificationOpened Context inContext JSONArray data fromAlert sendNotificationOpened inContext data urlOpened false defaultOpenActionDisabled DISABLE equals OSUtils getManifestMeta inContext com onesignal NotificationOpened DEFAULT defaultOpenActionDisabled urlOpened openURLFromNotification inContext data runNotificationOpenedCallback data false fromAlert urlOpened fireIntentFromNotificationOpen inContext data defaultOpenActionDisabled fireIntentFromNotificationOpen Context inContext JSONArray data defaultOpenActionDisabled PackageManager packageManager inContext getPackageManager isCustom false Intent intent Intent setAction com onesignal NotificationOpened RECEIVE setPackage inContext getPackageName packageManager queryBroadcastReceivers intent 32 size 0 intent putExtra onesignal data data toString inContext sendBroadcast intent isCustom true packageManager queryIntentActivities intent 65536 size 0 isCustom intent putExtra onesignal data data toString isCustom true intent setFlags 268566528 inContext startActivity intent isCustom defaultOpenActionDisabled Intent launchIntent inContext getPackageManager getLaunchIntentForPackage inContext getPackageName launchIntent null launchIntent setFlags 268566528 inContext startActivity launchIntent sendNotificationOpened Context inContext JSONArray dataArray i 0 i dataArray length i JSONObject data dataArray getJSONObject i data has custom JSONObject customJson JSONObject data getString custom customJson has i String notificationId customJson getString i JSONObject jsonBody JSONObject jsonBody put app id getSavedAppId inContext jsonBody put player id getSavedUserId inContext jsonBody put NotificationTable COLUMN NAME OPENED true OneSignalRestClient put notifications notificationId jsonBody ResponseHandler access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignal logHttpError sending Notification Opened Failed statusCode throwable response Throwable t Log LOG LEVEL ERROR Failed to generate JSON to send notification opened t SaveAppId String appId2 appContext null Editor editor getGcmPreferences appContext edit editor putString GT APP ID appId2 editor commit String getSavedAppId getSavedAppId appContext String getSavedAppId Context inContext inContext null getGcmPreferences inContext getString GT APP ID null String getSavedUserId Context inContext inContext null getGcmPreferences inContext getString GT PLAYER ID null String getUserId userId null appContext null userId getGcmPreferences appContext getString GT PLAYER ID null userId saveUserId String inUserId userId inUserId appContext null Editor editor getGcmPreferences appContext edit editor putString GT PLAYER ID userId editor commit updateUserIdDependents String userId2 saveUserId userId2 fireIdsAvailableCallback internalFireGetTagsCallback pendingGetTagsHandler enableVibrate enable appContext null Editor editor getGcmPreferences appContext edit editor putBoolean GT VIBRATE ENABLED enable editor commit getVibrate Context context getGcmPreferences context getBoolean GT VIBRATE ENABLED true enableSound enable appContext null Editor editor getGcmPreferences appContext edit editor putBoolean GT SOUND ENABLED enable editor commit getSoundEnabled Context context getGcmPreferences context getBoolean GT SOUND ENABLED true enableNotificationsWhenActive enable appContext null Editor editor getGcmPreferences appContext edit editor putBoolean ONESIGNAL ALWAYS SHOW NOTIF enable editor commit getNotificationsWhenActiveEnabled Context context getGcmPreferences context getBoolean ONESIGNAL ALWAYS SHOW NOTIF false enableInAppAlertNotification enable appContext null Editor editor getGcmPreferences appContext edit editor putBoolean ONESIGNAL INAPP ALERT enable editor commit getInAppAlertNotificationEnabled Context context getGcmPreferences context getBoolean ONESIGNAL INAPP ALERT false setSubscription enable appContext null Log LOG LEVEL ERROR OneSignal init has not been called Could not set subscription OneSignalStateSynchronizer setSubscription enable promptLocation appContext null Log LOG LEVEL ERROR OneSignal init has not been called Could not prompt location LocationGMS getLocation appContext true LocationHandler complete Double lat Double log Float accuracy Integer type lat null log null OneSignalStateSynchronizer updateLocation lat log accuracy type clearOneSignalNotifications appContext null Log LOG LEVEL ERROR OneSignal init has not been called Could not clear notifications NotificationManager notificationManager NotificationManager appContext getSystemService notification SQLiteDatabase writableDb OneSignalDbHelper appContext getWritableDatabase Cursor cursor writableDb query notification String NotificationTable COLUMN NAME ANDROID NOTIFICATION ID dismissed 0 AND opened 0 null null null null cursor moveToFirst notificationManager cancel cursor getInt cursor getColumnIndex NotificationTable COLUMN NAME ANDROID NOTIFICATION ID cursor moveToNext cursor close ContentValues values ContentValues values put NotificationTable COLUMN NAME DISMISSED Integer valueOf 1 writableDb update notification values opened 0 null writableDb close BadgeCountUpdater updateCount 0 appContext cancelNotification id appContext null Log LOG LEVEL ERROR OneSignal init has not been called Could not clear notification id id SQLiteDatabase writableDb OneSignalDbHelper appContext getWritableDatabase String whereStr opened 0 AND android notification id id ContentValues values ContentValues values put NotificationTable COLUMN NAME DISMISSED Integer valueOf 1 writableDb update notification values whereStr null BadgeCountUpdater update writableDb appContext writableDb close NotificationManager appContext getSystemService notification cancel id removeNotificationOpenedHandler notificationOpenedHandler null GetUnsentActiveTime unSentActiveTime 1 appContext null unSentActiveTime getGcmPreferences appContext getLong GT UNSENT ACTIVE TIME 0 Log LOG LEVEL INFO GetUnsentActiveTime unSentActiveTime unSentActiveTime access modifiers changed from SaveUnsentActiveTime time unSentActiveTime time appContext null Log LOG LEVEL INFO SaveUnsentActiveTime unSentActiveTime Editor editor getGcmPreferences appContext edit editor putLong GT UNSENT ACTIVE TIME time editor commit SharedPreferences getGcmPreferences Context context context getSharedPreferences OneSignal getSimpleName 0 isDuplicateNotification String id Context context id null equals id false SQLiteDatabase readableDb OneSignalDbHelper context getReadableDatabase Cursor cursor readableDb query notification String NotificationTable COLUMN NAME NOTIFICATION ID notification id String id null null null exists cursor moveToFirst cursor close readableDb close exists false Log LOG LEVEL DEBUG Duplicate GCM message received skipping processing id true runOnUiThread Runnable action Handler Looper getMainLooper post action notValidOrDuplicated Context context JSONObject jsonPayload String id getNotificationIdFromGCMJsonPayload jsonPayload id null isDuplicateNotification id context String getNotificationIdFromGCMBundle Bundle bundle bundle isEmpty null bundle containsKey custom JSONObject customJSON JSONObject bundle getString custom customJSON has i customJSON optString i null Log LOG LEVEL DEBUG Not a OneSignal formatted GCM message No i field in custom null Log LOG LEVEL DEBUG Not a OneSignal formatted GCM message No custom field in the bundle null Throwable t Log LOG LEVEL DEBUG Could not parse bundle probably not a OneSignal notification t null String getNotificationIdFromGCMJsonPayload JSONObject jsonPayload z false JSONObject jsonPayload optString custom optString i null Throwable th z isAppActive initDone isForeground com onesignal android app Activity android content Intent android os Bundle NotificationOpenedActivity Activity access modifiers changed from onCreate Bundle savedInstanceState onCreate savedInstanceState NotificationOpenedProcessor processFromActivity getIntent finish access modifiers changed from onNewIntent Intent intent onNewIntent intent NotificationOpenedProcessor processFromActivity getIntent finish com onesignal android content BroadcastReceiver android content Context android content Intent android os Bundle android util Log java lang reflect Method org json JSONObject CoronaGCMFilterProxyReceiver BroadcastReceiver isOneSignalGCM Intent intent Throwable Bundle bundle intent getExtras bundle isEmpty bundle containsKey custom JSONObject bundle getString custom has i false onReceive Context context Intent intent isOneSignalGCM intent Class cl Class forName com ansca corona notifications GoogleCloudMessagingServices Object obj cl getConstructor Class Context newInstance Object context Method method cl getDeclaredMethod process Class Intent method setAccessible true method invoke obj Object intent Throwable t Log e CORONA GCM PROXY Could not call com ansca corona notifications GoogleCloudMessagingServices t com onesignal android content ComponentName android content Context android content Intent android os Bundle android support v4 content WakefulBroadcastReceiver GcmBroadcastReceiver WakefulBroadcastReceiver String GCM RECEIVE com google android c2dm intent RECEIVE String GCM TYPE gcm isGcmMessage Intent intent GCM RECEIVE equals intent getAction false String messageType intent getStringExtra message type messageType null gcm equals messageType true false onReceive Context context Intent intent Bundle bundle intent getExtras bundle null google com iid equals bundle getString from processOrderBroadcast context intent bundle setResultCode 1 processOrderBroadcast Context context Intent intent Bundle bundle isGcmMessage intent processBundle context bundle Intent intentForService Intent intentForService putExtra json payload NotificationBundleProcessor bundleAsJSONObject bundle toString intentForService setComponent ComponentName context getPackageName GcmIntentService getName startWakefulService context intentForService processBundle Context context Bundle bundle display OneSignal getNotificationIdFromGCMBundle bundle null true NotificationBundleProcessor prepareBundle bundle showAsAlert OneSignal getInAppAlertNotificationEnabled context isActive OneSignal isAppActive OneSignal getNotificationsWhenActiveEnabled context showAsAlert isActive display true display false BackgroundBroadcaster Invoke context bundle isActive Intent overrideIntent NotificationExtenderService getIntent context overrideIntent null overrideIntent putExtra json payload NotificationBundleProcessor bundleAsJSONObject bundle toString startWakefulService context overrideIntent true bundle getString alert null equals bundle getString alert true display false Thread Runnable run OneSignal handleNotificationOpened NotificationBundleProcessor bundleAsJsonArray bundle start NotificationBundleProcessor saveNotification context bundle true 1 true com onesignal android content Context android location Location android os Build VERSION android os Bundle com google android gms common ConnectionResult com google android gms common api GoogleApiClient Builder com google android gms common api GoogleApiClient ConnectionCallbacks com google android gms common api GoogleApiClient OnConnectionFailedListener com google android gms location LocationServices com onesignal OneSignal LOG LEVEL java math BigDecimal java math RoundingMode java util Arrays java util List LocationGMS Thread fallbackFailThread access modifiers changed from locationCoarse LocationHandler locationHandler access modifiers changed from GoogleApiClientCompatProxy mGoogleApiClient String requestPermission GoogleApiClientListener ConnectionCallbacks OnConnectionFailedListener GoogleApiClientListener onConnected Bundle bundle i 0 PermissionsActivity answered false Location location LocationServices FusedLocationApi getLastLocation LocationGMS mGoogleApiClient realInstance location null location getAccuracy Double lat Double valueOf BigDecimal location getLatitude setScale 7 RoundingMode HALF UP doubleValue Double log Double valueOf BigDecimal location getLongitude setScale 7 RoundingMode HALF UP doubleValue Float valueOf Float valueOf location getAccuracy LocationGMS locationCoarse i 1 LocationGMS fireComplete lat log valueOf Integer valueOf i LocationGMS fireComplete null null null null LocationGMS mGoogleApiClient disconnect onConnectionSuspended i LocationGMS fireFailedComplete onConnectionFailed ConnectionResult connectionResult LocationGMS fireFailedComplete LocationHandler complete Double d Double d2 Float f Integer num LocationGMS getLocation Context context promptLocation LocationHandler handler locationHandler handler locationCoarsePermission 1 locationFinePermission ContextCompat checkSelfPermission context android permission ACCESS FINE LOCATION locationFinePermission 1 locationCoarsePermission ContextCompat checkSelfPermission context android permission ACCESS COARSE LOCATION locationCoarse true VERSION SDK INT 23 locationFinePermission 0 locationCoarsePermission 0 startGetLocation handler complete null null null null locationFinePermission 0 List String permissionList Arrays asList context getPackageManager getPackageInfo context getPackageName 4096 requestedPermissions permissionList contains android permission ACCESS FINE LOCATION requestPermission android permission ACCESS FINE LOCATION permissionList contains android permission ACCESS COARSE LOCATION locationCoarsePermission 0 requestPermission android permission ACCESS COARSE LOCATION requestPermission null promptLocation PermissionsActivity startPrompt locationCoarsePermission 0 startGetLocation fireFailedComplete Throwable t t printStackTrace startGetLocation startGetLocation startFallBackThread GoogleApiClientListener googleApiClientListener GoogleApiClientListener mGoogleApiClient GoogleApiClientCompatProxy Builder OneSignal appContext addApi LocationServices API addConnectionCallbacks googleApiClientListener addOnConnectionFailedListener googleApiClientListener build mGoogleApiClient connect Throwable t OneSignal Log LOG LEVEL WARN Location permission exists but there was an error initializing t fireFailedComplete startFallBackThread fallbackFailThread Thread Runnable run Thread sleep 30000 OneSignal Log LOG LEVEL WARN Location permission exists but GoogleApiClient timedout Maybe related to mismatch google play aar versions LocationGMS fireFailedComplete Throwable th fallbackFailThread start fireFailedComplete PermissionsActivity answered false fireComplete null null null null mGoogleApiClient null mGoogleApiClient disconnect access modifiers changed from fireComplete Double lat Double log Float accuracy Integer type locationHandler complete lat log accuracy type fallbackFailThread null Thread currentThread equals fallbackFailThread fallbackFailThread interrupt com onesignal android R drawable android app Activity android app AlertDialog android app AlertDialog Builder android app Notification android app PendingIntent android content ContentValues android content Context android content DialogInterface android content DialogInterface OnCancelListener android content DialogInterface OnClickListener android content Intent android content pm PackageManager android content res Resources android database Cursor android database sqlite SQLiteDatabase android graphics Bitmap android graphics BitmapFactory android net Uri android os Build VERSION android support v4 app NotificationCompat android support v4 app NotificationCompat InboxStyle android support v4 app NotificationManagerCompat android text SpannableString android text style StyleSpan com ansca corona notifications StatusBarNotificationSettings com onesignal NotificationExtenderService OverrideSettings com onesignal OneSignal LOG LEVEL java math BigInteger java net URL java util ArrayList java util Arrays java util List java util Random org json JSONArray org json JSONException org json JSONObject GenerateNotification Resources contextResources null Context currentContext null Class notificationOpenedClass openerIsBroadcast String packageName null GenerateNotification setStatics Context inContext currentContext inContext packageName currentContext getPackageName contextResources currentContext getResources PackageManager packageManager currentContext getPackageManager Intent intent Intent currentContext NotificationOpenedReceiver intent setPackage currentContext getPackageName packageManager queryBroadcastReceivers intent 0 size 0 openerIsBroadcast true notificationOpenedClass NotificationOpenedReceiver notificationOpenedClass NotificationOpenedActivity fromJsonPayload Context inContext restoring notificationId JSONObject jsonPayload showAsAlert OverrideSettings overrideSettings setStatics inContext restoring showAsAlert ActivityLifecycleHandler curActivity null showNotification notificationId restoring jsonPayload overrideSettings showNotificationAsAlert jsonPayload ActivityLifecycleHandler curActivity notificationId showNotificationAsAlert JSONObject gcmJson Activity activity notificationId activity runOnUiThread Runnable run Builder builder Builder activity builder setTitle GenerateNotification getTitle gcmJson builder setMessage gcmJson optString alert List String buttonsLabels ArrayList List String arrayList ArrayList GenerateNotification addAlertButtons gcmJson buttonsLabels arrayList List String finalButtonIds arrayList Intent buttonIntent GenerateNotification getNewBaseIntent notificationId buttonIntent putExtra action button true buttonIntent putExtra from alert true buttonIntent putExtra onesignal data gcmJson toString gcmJson has grp buttonIntent putExtra grp gcmJson optString grp Intent finalButtonIntent buttonIntent OnClickListener buttonListener OnClickListener onClick DialogInterface dialog which index which 3 finalButtonIds size 1 JSONObject customJson JSONObject gcmJson getString custom customJson getJSONObject a put actionSelected finalButtonIds get index JSONObject newJsonData JSONObject gcmJson toString newJsonData put custom customJson toString finalButtonIntent putExtra onesignal data newJsonData toString NotificationOpenedProcessor processIntent activity finalButtonIntent Throwable th NotificationOpenedProcessor processIntent activity finalButtonIntent builder setOnCancelListener OnCancelListener onCancel DialogInterface dialogInterface NotificationOpenedProcessor processIntent activity finalButtonIntent i 0 i buttonsLabels size i i 0 builder setNeutralButton CharSequence buttonsLabels get i buttonListener i 1 builder setNegativeButton CharSequence buttonsLabels get i buttonListener i 2 builder setPositiveButton CharSequence buttonsLabels get i buttonListener AlertDialog alertDialog builder create alertDialog setCanceledOnTouchOutside false alertDialog show access modifiers changed from CharSequence getTitle JSONObject gcmBundle CharSequence title null title gcmBundle getString title Throwable th title null title currentContext getPackageManager getApplicationLabel currentContext getApplicationInfo PendingIntent getNewActionPendingIntent requestCode Intent intent openerIsBroadcast PendingIntent getBroadcast currentContext requestCode intent 134217728 PendingIntent getActivity currentContext requestCode intent 134217728 access modifiers changed from Intent getNewBaseIntent notificationId Intent intent Intent currentContext notificationOpenedClass putExtra notificationId notificationId openerIsBroadcast intent intent addFlags 603979776 Intent getNewBaseDeleteIntent notificationId Intent intent Intent currentContext notificationOpenedClass putExtra notificationId notificationId putExtra NotificationTable COLUMN NAME DISMISSED true openerIsBroadcast intent intent addFlags 402718720 JADX WARNING Removed duplicated region block B 22 A Catch Throwable 7 JADX WARNING Removed duplicated region block B 26 JADX WARNING Removed duplicated region block B 29 0098 JADX WARNING Removed duplicated region block B 32 0 android support v4 app NotificationCompat Builder getBaseNotificationCompatBuilder org json JSONObject r15 r8 getSmallIconId r15 r7 0 android content Context r12 currentContext r12 com onesignal OneSignal getVibrate r12 r12 0 L r7 2 L r5 0 java lang String r12 alert java lang String r5 r15 getString r12 Catch Throwable e L 0015 android support v4 app NotificationCompat Builder r12 android support v4 app NotificationCompat Builder android content Context r13 currentContext r12 m269init r13 r13 1 android support v4 app NotificationCompat Builder r12 r12 setAutoCancel r13 android support v4 app NotificationCompat Builder r12 r12 setSmallIcon r8 java lang CharSequence r13 getTitle r15 android support v4 app NotificationCompat Builder r12 r12 setContentTitle r13 android support v4 app NotificationCompat BigTextStyle r13 android support v4 app NotificationCompat BigTextStyle r13 m267init android support v4 app NotificationCompat BigTextStyle r13 r13 bigText r5 android support v4 app NotificationCompat Builder r12 r12 setStyle r13 android support v4 app NotificationCompat Builder r12 r12 setContentText r5 android support v4 app NotificationCompat Builder r6 r12 setTicker r5 java math BigInteger r0 getAccentColor r15 Catch Throwable c r0 0 L r12 r0 intValue Catch Throwable c r6 setColor r12 Catch Throwable c L r3 0 java lang String r12 ledc r12 r15 has r12 r12 0 L 1 java math BigInteger r4 java math BigInteger Catch Throwable d java lang String r12 ledc java lang String r12 r15 getString r12 Catch Throwable d r13 16 r4 init r12 r13 Catch Throwable d r12 r4 intValue Catch Throwable 9 r13 2000 0 2 42 r14 5000 1388 7 42 r6 setLights r12 r13 r14 Catch Throwable 9 r3 r4 L 0071 r11 1 java lang String r12 vis r12 r15 has r12 Catch Throwable 7 r12 0 L 0084 java lang String r12 vis java lang String r12 r15 getString r12 Catch Throwable 7 r11 java lang Integer parseInt r12 Catch Throwable 7 L 0084 r6 setVisibility r11 Catch Throwable 7 L 0087 android graphics Bitmap r2 getLargeIcon r15 r2 0 L 0090 r6 setLargeIcon r2 L 0090 java lang String r12 bicon android graphics Bitmap r1 getBitmapIcon r15 r12 r1 0 L 8 android support v4 app NotificationCompat BigPictureStyle r12 android support v4 app NotificationCompat BigPictureStyle r12 m265init android support v4 app NotificationCompat BigPictureStyle r12 r12 bigPicture r1 android support v4 app NotificationCompat BigPictureStyle r12 r12 setSummaryText r5 r6 setStyle r12 L 8 android content Context r12 currentContext r12 com onesignal OneSignal getSoundEnabled r12 r12 0 L 9 android net Uri r9 getCustomSound r15 r9 0 L 4 r6 setSound r9 L 9 r6 setDefaults r7 r6 L d r10 move exception L e r7 r7 4 L 0071 L 1 r7 r7 4 L 0071 L 4 r7 r7 1 L 9 L 7 r12 move exception L 0087 L 9 r10 move exception r3 r4 L e L c r12 move exception L L e r12 move exception L 0015 UnsupportedOperationException Method not decompiled com onesignal GenerateNotification getBaseNotificationCompatBuilder org json JSONObject android support v4 app NotificationCompat Builder removeNotifyOptions NotificationCompat Builder builder builder setDefaults 0 setSound null setVibrate null setTicker null showNotification notificationId restoring JSONObject gcmBundle OverrideSettings overrideSettings Random random Random String group gcmBundle optString grp null NotificationCompat Builder notifBuilder getBaseNotificationCompatBuilder gcmBundle addNotificationActionButtons gcmBundle notifBuilder notificationId null overrideSettings null overrideSettings extender null notifBuilder extend overrideSettings extender group null notifBuilder setContentIntent getNewActionPendingIntent random nextInt getNewBaseIntent notificationId putExtra onesignal data gcmBundle toString putExtra grp group notifBuilder setDeleteIntent getNewActionPendingIntent random nextInt getNewBaseDeleteIntent notificationId putExtra grp group notifBuilder setGroup group createSummaryNotification restoring gcmBundle notifBuilder setContentIntent getNewActionPendingIntent random nextInt getNewBaseIntent notificationId putExtra onesignal data gcmBundle toString notifBuilder setDeleteIntent getNewActionPendingIntent random nextInt getNewBaseDeleteIntent notificationId restoring removeNotifyOptions notifBuilder group null VERSION SDK INT 17 NotificationManagerCompat from currentContext notify notificationId notifBuilder build createSummaryNotification restoring JSONObject gcmBundle createSummaryNotification null restoring gcmBundle createSummaryNotification Context inContext updateSummary JSONObject gcmBundle Notification summaryNotification String line1Title String title updateSummary inContext null setStatics inContext String group gcmBundle optString grp null Random random Random PendingIntent summaryDeleteIntent getNewActionPendingIntent random nextInt getNewBaseDeleteIntent 0 putExtra summary group SQLiteDatabase writableDb OneSignalDbHelper currentContext getWritableDatabase Cursor cursor writableDb query notification String NotificationTable COLUMN NAME ANDROID NOTIFICATION ID NotificationTable COLUMN NAME FULL DATA NotificationTable COLUMN NAME IS SUMMARY title NotificationTable COLUMN NAME MESSAGE group id AND dismissed 0 AND opened 0 String group null null id DESC summaryNotificationId random nextInt String firstFullData null ArrayList SpannableString arrayList null cursor moveToFirst arrayList ArrayList cursor getInt cursor getColumnIndex NotificationTable COLUMN NAME IS SUMMARY 1 summaryNotificationId cursor getInt cursor getColumnIndex NotificationTable COLUMN NAME ANDROID NOTIFICATION ID String title2 cursor getString cursor getColumnIndex title title2 null title title title2 SpannableString spannableString SpannableString title cursor getString cursor getColumnIndex NotificationTable COLUMN NAME MESSAGE title length 0 spannableString setSpan StyleSpan 1 0 title length 0 arrayList add spannableString firstFullData null firstFullData cursor getString cursor getColumnIndex NotificationTable COLUMN NAME FULL DATA cursor moveToNext updateSummary JSONObject jSONObject JSONObject firstFullData gcmBundle jSONObject JSONException e e printStackTrace arrayList null updateSummary arrayList size 1 ContentValues values ContentValues values put NotificationTable COLUMN NAME ANDROID NOTIFICATION ID Integer valueOf summaryNotificationId values put NotificationTable COLUMN NAME GROUP ID group values put NotificationTable COLUMN NAME IS SUMMARY Integer valueOf 1 writableDb insert notification null values NotificationCompat Builder notifBuilder getBaseNotificationCompatBuilder gcmBundle updateSummary removeNotifyOptions notifBuilder PendingIntent summaryContentIntent getNewActionPendingIntent random nextInt getNewBaseIntent summaryNotificationId putExtra onesignal data gcmBundle toString putExtra summary group addNotificationActionButtons gcmBundle notifBuilder summaryNotificationId group notifBuilder setContentIntent summaryContentIntent setDeleteIntent summaryDeleteIntent setOnlyAlertOnce updateSummary setGroup group setGroupSummary true summaryNotification notifBuilder build notificationCount arrayList size updateSummary 0 1 String summaryMessage null gcmBundle has grp msg summaryMessage gcmBundle getString grp msg replace notif count notificationCount Throwable th summaryMessage null summaryMessage notificationCount messages JSONObject summaryDataBundle JSONObject summaryDataBundle put alert summaryMessage JSONException e2 e2 printStackTrace PendingIntent summaryContentIntent2 getNewActionPendingIntent random nextInt getNewBaseIntent summaryNotificationId putExtra summary group putExtra onesignal data summaryDataBundle toString NotificationCompat Builder summeryBuilder getBaseNotificationCompatBuilder gcmBundle updateSummary removeNotifyOptions summeryBuilder summeryBuilder setContentIntent summaryContentIntent2 setDeleteIntent summaryDeleteIntent setContentTitle currentContext getPackageManager getApplicationLabel currentContext getApplicationInfo setContentText summaryMessage setNumber notificationCount setOnlyAlertOnce updateSummary setGroup group setGroupSummary true updateSummary summeryBuilder setTicker summaryMessage InboxStyle inboxStyle InboxStyle String line1Title2 null updateSummary line1Title2 gcmBundle getString title Throwable th2 line1Title2 null line1Title line1Title line1Title2 String message message gcmBundle getString alert Throwable th3 SpannableString spannableString2 SpannableString line1Title message line1Title length 0 spannableString2 setSpan StyleSpan 1 0 line1Title length 0 inboxStyle addLine spannableString2 SpannableString line arrayList inboxStyle addLine line inboxStyle setBigContentTitle summaryMessage summeryBuilder setStyle inboxStyle summaryNotification summeryBuilder build NotificationManagerCompat from currentContext notify summaryNotificationId summaryNotification cursor close writableDb close isValidResourceName String name name null name matches 0 9 Bitmap getLargeIcon JSONObject gcmBundle VERSION SDK INT 11 null Bitmap bitmap getBitmapIcon gcmBundle licon bitmap null bitmap getBitmapFromAssetsOrResourceName ic onesignal large icon bitmap null bitmap getBitmapFromAssetsOrResourceName ic gamethrive large icon bitmap null null systemLargeIconHeight contextResources getDimension 17104902 systemLargeIconWidth contextResources getDimension 17104901 bitmapHeight bitmap getHeight bitmapWidth bitmap getWidth bitmapWidth systemLargeIconWidth bitmapHeight systemLargeIconHeight bitmap newWidth systemLargeIconWidth newHeight systemLargeIconHeight bitmapHeight bitmapWidth newWidth newHeight bitmapWidth bitmapHeight bitmapWidth bitmapHeight newHeight newWidth bitmapHeight bitmapWidth Bitmap createScaledBitmap bitmap newWidth newHeight true Throwable th bitmap Bitmap getBitmapFromAssetsOrResourceName String bitmapStr Bitmap bitmap null bitmap BitmapFactory decodeStream currentContext getAssets open bitmapStr Throwable th bitmap null bitmap String extension Arrays asList String png webp jpg gif bmp bitmap BitmapFactory decodeStream currentContext getAssets open bitmapStr extension Throwable th2 bitmap null bitmap bitmapId getResourceIcon bitmapStr bitmapId 0 BitmapFactory decodeResource contextResources bitmapId Throwable th3 null Bitmap getBitmapFromURL String location BitmapFactory decodeStream URL location openConnection getInputStream Throwable th null Bitmap getBitmapIcon JSONObject gcmBundle String key gcmBundle has key null String bitmapStr null bitmapStr gcmBundle getString key Throwable th bitmapStr startsWith http bitmapStr startsWith https getBitmapFromURL bitmapStr getBitmapFromAssetsOrResourceName bitmapStr getResourceIcon String iconName isValidResourceName iconName 0 notificationIcon getDrawableId iconName notificationIcon 0 notificationIcon drawable getField iconName getInt null Throwable th 0 getSmallIconId JSONObject gcmBundle notificationIcon 0 gcmBundle has sicon notificationIcon getResourceIcon gcmBundle getString sicon Throwable th notificationIcon 0 notificationIcon notificationIcon2 getDrawableId ic stat onesignal notificationIcon2 0 notificationIcon2 notificationIcon3 getDrawableId ic stat gamethrive notificationIcon3 0 notificationIcon3 notificationIcon4 getDrawableId StatusBarNotificationSettings DEFAULT ICON RESOURCE NAME notificationIcon4 0 notificationIcon4 notificationIcon5 currentContext getApplicationInfo icon notificationIcon5 0 notificationIcon5 17301651 getDrawableId String name contextResources getIdentifier name drawable packageName Uri getCustomSound JSONObject gcmBundle String sound null gcmBundle has sound sound gcmBundle getString sound isValidResourceName sound soundId contextResources getIdentifier sound raw packageName soundId 0 Uri parse android resource packageName soundId soundId2 contextResources getIdentifier onesignal sound raw packageName soundId2 0 Uri parse android resource packageName soundId2 soundId3 contextResources getIdentifier gamethrive sound raw packageName soundId3 0 Uri parse android resource packageName soundId3 null Throwable th null BigInteger getAccentColor JSONObject gcmBundle gcmBundle has bgac BigInteger gcmBundle getString bgac 16 Throwable th String defaultColor OSUtils getManifestMeta currentContext com onesignal NotificationAccentColor DEFAULT defaultColor null BigInteger defaultColor 16 Throwable th2 null addNotificationActionButtons JSONObject gcmBundle NotificationCompat Builder mBuilder notificationId String groupSummary JSONObject customJson JSONObject gcmBundle getString custom customJson has a JSONObject additionalDataJSON customJson getJSONObject a additionalDataJSON has actionButtons JSONArray buttons additionalDataJSON getJSONArray actionButtons i 0 i buttons length i JSONObject button buttons getJSONObject i additionalDataJSON put actionSelected button getString id JSONObject bundle JSONObject gcmBundle toString bundle put custom customJson toString Intent buttonIntent getNewBaseIntent notificationId buttonIntent setAction i buttonIntent putExtra action button true buttonIntent putExtra onesignal data bundle toString groupSummary null buttonIntent putExtra summary groupSummary gcmBundle has grp buttonIntent putExtra grp gcmBundle getString grp PendingIntent buttonPIntent getNewActionPendingIntent notificationId buttonIntent buttonIcon 0 button has icon buttonIcon getResourceIcon button getString icon mBuilder addAction buttonIcon button getString text buttonPIntent JSONException e e printStackTrace access modifiers changed from addAlertButtons JSONObject gcmBundle List String buttonsLabels List String buttonsIds JSONObject customJson JSONObject gcmBundle getString custom customJson has a JSONObject additionalDataJSON customJson getJSONObject a additionalDataJSON has actionButtons JSONArray buttons additionalDataJSON getJSONArray actionButtons i 0 i buttons length i JSONObject button buttons getJSONObject i buttonsLabels add button getString text buttonsIds add button getString id buttonsLabels size 3 buttonsLabels add Close buttonsIds add DEFAULT JSONException e OneSignal Log LOG LEVEL ERROR Failed to parse buttons alert dialog e com onesignal android content Context android net wifi WifiManager android os Build VERSION android provider Settings Secure android telephony TelephonyManager java util Arrays java util List AdvertisingIdProviderFallback AdvertisingIdentifierProvider List String INVALID PHONE IDS Arrays asList String 0 unknown 739463 000000000000000 111111111111111 352005048247251 012345678912345 012345678901237 88508850885050 bcde 004999010640000 862280010599525 52443443484950 355195000000017 001068000000006 358673013795895 355692547693084 004400152020000 8552502717594321 113456798945455 012379000772883 111111111111119 358701042909755 358000043654134 345630000000115 356299046587760 356591000000222 AdvertisingIdProviderFallback String getIdentifier Context appContext String id getPhoneId appContext id null id String id2 getAndroidId appContext id2 null id2 getWifiMac appContext String getPhoneId Context appContext String phoneId TelephonyManager appContext getSystemService phone getDeviceId phoneId null INVALID PHONE IDS contains phoneId phoneId RuntimeException e null String getAndroidId Context appContext String androidId Secure getString appContext getContentResolver android id androidId equals androidId RuntimeException e null String getWifiMac Context appContext VERSION SDK INT 23 WifiManager appContext getSystemService wifi getConnectionInfo getMacAddress RuntimeException e null com onesignal android content Context PushRegistrator RegisteredHandler complete String str registerForPush Context context String str RegisteredHandler registeredHandler com onesignal android annotation TargetApi android app Activity android content Context android os Process android support annotation NonNull android util Log AndroidSupportV4Compat ActivityCompat ActivityCompat requestPermissions NonNull Activity activity NonNull String permissions requestCode ActivityCompatApi23 requestPermissions activity permissions requestCode TargetApi 23 ActivityCompatApi23 ActivityCompatApi23 requestPermissions Activity activity String permissions requestCode activity RequestPermissionsRequestCodeValidator RequestPermissionsRequestCodeValidator activity validateRequestPermissionsRequestCode requestCode activity requestPermissions permissions requestCode ContextCompat ContextCompat checkSelfPermission NonNull Context context NonNull String permission context checkPermission permission Process myPid Process myUid Throwable th Log e OneSignal checkSelfPermission failed returning PERMISSION DENIED 1 RequestPermissionsRequestCodeValidator validateRequestPermissionsRequestCode i AndroidSupportV4Compat com onesignal android content Context android content SharedPreferences android content SharedPreferences Editor android os Handler android os HandlerThread com onesignal OneSignal LOG LEVEL java util Arrays java util HashMap java util HashSet java util Iterator java util Map Entry java util Set org json JSONArray org json JSONException org json JSONObject OneSignalStateSynchronizer String LOCATION FIELDS lat loc acc loc type access modifiers changed from Set String LOCATION FIELDS SET HashSet Arrays asList LOCATION FIELDS access modifiers changed from Context appContext access modifiers changed from UserState currentUserState access modifiers changed from JSONObject lastGetTagsResponse HashMap Integer NetworkHandlerThread networkHandlerThreads HashMap access modifiers changed from onSessionDone false postSessionCalled false access modifiers changed from UserState toSyncUserState access modifiers changed from waitingForSessionResponse false GetTagsResult JSONObject result serverSuccess GetTagsResult serverSuccess2 JSONObject result2 serverSuccess serverSuccess2 result result2 NetworkHandlerThread HandlerThread MAX RETRIES 3 NETWORK HANDLER USERSTATE 0 currentRetry Handler mHandler null mType NetworkHandlerThread type NetworkHandlerThread mType type start mHandler Handler getLooper runNewJob currentRetry 0 mHandler removeCallbacksAndMessages null mHandler postDelayed getNewRunnable 5000 Runnable getNewRunnable mType 0 Runnable run OneSignalStateSynchronizer syncUserState false null access modifiers changed from 0000 stopScheduledRunnable mHandler removeCallbacksAndMessages null access modifiers changed from 0000 doRetry currentRetry 3 mHandler hasMessages 0 currentRetry mHandler postDelayed getNewRunnable currentRetry 15000 UserState UNSUBSCRIBE VALUE JSONObject dependValues String persistKey JSONObject syncValues UserState String inPersistKey load UNSUBSCRIBE VALUE 2 persistKey inPersistKey load loadState dependValues JSONObject syncValues JSONObject access modifiers changed from UserState deepClone String persistKey2 UserState clonedUserState UserState persistKey2 false clonedUserState dependValues JSONObject dependValues toString clonedUserState syncValues JSONObject syncValues toString JSONException e e printStackTrace clonedUserState addDependFields syncValues put notification types getNotificationTypes JSONException e access modifiers changed from getNotificationTypes subscribableStatus dependValues getInt subscribableStatus userSubscribePref dependValues getBoolean userSubscribePref subscribableStatus 2 subscribableStatus userSubscribePref 1 2 JSONException e e printStackTrace 1 Set String getGroupChangeField JSONObject cur JSONObject changedTo cur getDouble lat changedTo getDouble lat cur getDouble changedTo getDouble cur getDouble loc acc changedTo getDouble loc acc cur getDouble loc type changedTo getDouble loc type null OneSignalStateSynchronizer LOCATION FIELDS SET Throwable th OneSignalStateSynchronizer LOCATION FIELDS SET access modifiers changed from JSONObject generateJsonDiff UserState newState isSessionCall addDependFields newState addDependFields JSONObject sendJson OneSignalStateSynchronizer generateJsonDiff syncValues newState syncValues null getGroupChangeField syncValues newState syncValues isSessionCall sendJson toString equals null sendJson has app id sendJson sendJson put app id String syncValues opt app id sendJson JSONException e e printStackTrace sendJson access modifiers changed from 0000 set String key Object value syncValues put key value JSONException e e printStackTrace access modifiers changed from 0000 setState String key Object value dependValues put key value JSONException e e printStackTrace loadState subscribableStatus SharedPreferences prefs OneSignal getGcmPreferences OneSignalStateSynchronizer appContext String dependValuesStr prefs getString ONESIGNAL USERSTATE DEPENDVALYES persistKey null dependValuesStr null dependValues JSONObject userSubscribePref true persistKey equals CURRENT STATE subscribableStatus prefs getInt ONESIGNAL SUBSCRIPTION 1 subscribableStatus prefs getInt ONESIGNAL SYNCED SUBSCRIPTION 1 subscribableStatus 2 subscribableStatus 1 userSubscribePref false dependValues put subscribableStatus subscribableStatus dependValues put userSubscribePref userSubscribePref JSONException e dependValues JSONObject dependValuesStr JSONException e2 e2 printStackTrace String syncValuesStr prefs getString ONESIGNAL USERSTATE SYNCVALYES persistKey null syncValuesStr null syncValues JSONObject syncValues put identifier prefs getString GT REGISTRATION ID null JSONException e3 e3 printStackTrace syncValues JSONObject syncValuesStr access modifiers changed from persistState modifySyncValuesJsonArray pkgs Editor editor OneSignal getGcmPreferences OneSignalStateSynchronizer appContext edit editor putString ONESIGNAL USERSTATE SYNCVALYES persistKey syncValues toString editor putString ONESIGNAL USERSTATE DEPENDVALYES persistKey dependValues toString editor commit modifySyncValuesJsonArray String baseKey JSONArray orgArray syncValues has baseKey d syncValues has baseKey d syncValues has baseKey orgArray syncValues getJSONArray baseKey orgArray JSONArray JSONArray tempArray JSONArray syncValues has baseKey d String remArrayStr OneSignalStateSynchronizer toStringNE syncValues getJSONArray baseKey d i 0 i orgArray length i remArrayStr contains orgArray getString i tempArray put orgArray get i tempArray orgArray syncValues has baseKey a JSONArray newArray syncValues getJSONArray baseKey a i2 0 i2 newArray length i2 tempArray put newArray get i2 syncValues put baseKey tempArray syncValues remove baseKey a syncValues remove baseKey d Throwable th access modifiers changed from persistStateAfterSync JSONObject inDependValues JSONObject inSyncValues inDependValues null OneSignalStateSynchronizer generateJsonDiff dependValues inDependValues dependValues null inSyncValues null OneSignalStateSynchronizer generateJsonDiff syncValues inSyncValues syncValues null inSyncValues has tags JSONObject newTags JSONObject JSONObject curTags inSyncValues optJSONObject tags Iterator String keys curTags keys keys hasNext String key String keys next equals curTags optString key newTags put key curTags optString key Throwable th newTags toString equals syncValues remove tags syncValues put tags newTags inDependValues null inSyncValues null persistState OneSignalStateSynchronizer access modifiers changed from JSONObject generateJsonDiff JSONObject cur JSONObject changedTo JSONObject baseOutput Set String includeFields JSONObject output Iterator String keys changedTo keys baseOutput null output baseOutput output JSONObject cur keys hasNext String key String keys next Object value changedTo get key cur has key value JSONObject JSONObject curValue cur getJSONObject key JSONObject outValue null baseOutput null baseOutput has key outValue baseOutput getJSONObject key String returnedJsonStr generateJsonDiff curValue JSONObject value outValue includeFields toString returnedJsonStr equals output put key JSONObject returnedJsonStr value JSONArray handleJsonArray key JSONArray value cur getJSONArray key output includeFields null includeFields contains key Object curValue2 cur get key value equals curValue2 curValue2 Integer equals value output put key value Number curValue2 doubleValue Number value doubleValue output put key value output put key value value JSONObject output put key JSONObject value toString value JSONArray handleJsonArray key JSONArray value null output output put key value JSONException e e printStackTrace output handleJsonArray String key JSONArray newArray JSONArray curArray JSONObject output JSONException key endsWith a key endsWith d output put key newArray String arrayStr toStringNE newArray JSONArray newOutArray JSONArray JSONArray remOutArray JSONArray String curArrayStr curArray null null toStringNE curArray i 0 i newArray length i String arrayValue String newArray get i curArray null curArrayStr contains arrayValue newOutArray put arrayValue curArray null i2 0 i2 curArray length i2 String arrayValue2 curArray getString i2 arrayStr contains arrayValue2 remOutArray put arrayValue2 newOutArray toString equals output put key a newOutArray remOutArray toString equals output put key d remOutArray access modifiers changed from String toStringNE JSONArray jsonArray String strArray i 0 i jsonArray length strArray strArray jsonArray getString i i Throwable th strArray access modifiers changed from JSONObject getTagsWithoutDeletedKeys JSONObject jsonObject jsonObject has tags null JSONObject toReturn JSONObject jsonObject JSONObject keyValues jsonObject optJSONObject tags Iterator String keys keyValues keys keys hasNext String key String keys next Object value keyValues get key equals value toReturn put key value Throwable th toReturn stopAndPersist Entry Integer NetworkHandlerThread handlerThread networkHandlerThreads entrySet NetworkHandlerThread handlerThread getValue stopScheduledRunnable toSyncUserState null toSyncUserState persistState initUserState Context context appContext context currentUserState null OneSignalStateSynchronizer oneSignalStateSynchronizer OneSignalStateSynchronizer oneSignalStateSynchronizer getClass currentUserState UserState CURRENT STATE true OneSignalStateSynchronizer oneSignalStateSynchronizer2 OneSignalStateSynchronizer oneSignalStateSynchronizer2 getClass toSyncUserState UserState TOSYNC STATE true UserState getNewUserState OneSignalStateSynchronizer oneSignalStateSynchronizer OneSignalStateSynchronizer oneSignalStateSynchronizer getClass UserState nonPersist false syncUserState fromSyncService String urlStr isSessionCall onSessionDone postSessionCalled waitingForSessionResponse JSONObject jsonBody currentUserState generateJsonDiff toSyncUserState isSessionCall JSONObject dependDiff generateJsonDiff currentUserState dependValues toSyncUserState dependValues null null jsonBody null currentUserState persistStateAfterSync dependDiff null String userId OneSignal getUserId toSyncUserState persistState onSessionDone fromSyncService OneSignalRestClient putSync players userId jsonBody ResponseHandler access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignal Log LOG LEVEL WARN Failed last request statusCode statusCode nresponse response OneSignalStateSynchronizer response400WithErrorsContaining statusCode response No user with id found OneSignalStateSynchronizer resetCurrentState OneSignalStateSynchronizer postNewSyncUserState OneSignalStateSynchronizer getNetworkHandlerThread Integer valueOf 0 doRetry access modifiers changed from 0000 onSuccess String response OneSignalStateSynchronizer currentUserState persistStateAfterSync dependDiff jsonBody postSessionCalled userId null urlStr players urlStr players userId on session waitingForSessionResponse true OneSignalRestClient postSync urlStr jsonBody ResponseHandler access modifiers changed from 0000 onFailure statusCode String response Throwable throwable OneSignalStateSynchronizer waitingForSessionResponse false OneSignal Log LOG LEVEL WARN Failed last request statusCode statusCode nresponse response OneSignalStateSynchronizer response400WithErrorsContaining statusCode response not a valid device type OneSignalStateSynchronizer resetCurrentState OneSignalStateSynchronizer postNewSyncUserState OneSignalStateSynchronizer getNetworkHandlerThread Integer valueOf 0 doRetry access modifiers changed from 0000 onSuccess String response OneSignalStateSynchronizer onSessionDone true OneSignalStateSynchronizer waitingForSessionResponse false OneSignalStateSynchronizer currentUserState persistStateAfterSync dependDiff jsonBody JSONObject jsonResponse JSONObject response jsonResponse has id String userId jsonResponse getString id OneSignal updateUserIdDependents userId OneSignal Log LOG LEVEL INFO Device registered UserId userId OneSignal Log LOG LEVEL INFO session sent UserId OneSignal getUserId Throwable t OneSignal Log LOG LEVEL ERROR ERROR parsing on session or create JSON Response t access modifiers changed from response400WithErrorsContaining statusCode String response String contains statusCode 400 response null false JSONObject responseJson JSONObject response responseJson has errors responseJson optString errors contains contains false true Throwable t t printStackTrace false access modifiers changed from NetworkHandlerThread getNetworkHandlerThread Integer type networkHandlerThreads containsKey type networkHandlerThreads put type NetworkHandlerThread type intValue NetworkHandlerThread networkHandlerThreads get type UserState getUserStateForModification toSyncUserState null toSyncUserState currentUserState deepClone TOSYNC STATE postNewSyncUserState toSyncUserState access modifiers changed from postNewSyncUserState getNetworkHandlerThread Integer valueOf 0 runNewJob postSession UserState postSession JSONObject toSync getUserStateForModification syncValues generateJsonDiff toSync postSession syncValues toSync null JSONObject dependValues getUserStateForModification dependValues generateJsonDiff dependValues postSession dependValues dependValues null postSessionCalled true sendTags JSONObject newTags JSONObject userStateTags getUserStateForModification syncValues generateJsonDiff userStateTags JSONObject put tags newTags userStateTags null JSONException e e printStackTrace setSubscription enable getUserStateForModification dependValues put userSubscribePref enable JSONException e e printStackTrace updateIdentifier String identifier getUserStateForModification syncValues put identifier identifier JSONException e e printStackTrace updateLocation Double lat Double log Float accuracy Integer type UserState userState getUserStateForModification userState syncValues put lat lat userState syncValues put log userState syncValues put loc acc accuracy userState syncValues put loc type type JSONException e e printStackTrace getSubscribed toSyncUserState getNotificationTypes 0 String getRegistrationId toSyncUserState syncValues optString identifier null GetTagsResult getTags fromServer lastGetTagsResponse null fromServer OneSignalRestClient getSync players OneSignal getUserId ResponseHandler access modifiers changed from 0000 onSuccess String responseStr OneSignalStateSynchronizer lastGetTagsResponse JSONObject responseStr OneSignalStateSynchronizer lastGetTagsResponse has tags OneSignalStateSynchronizer lastGetTagsResponse OneSignalStateSynchronizer lastGetTagsResponse optJSONObject tags OneSignalStateSynchronizer currentUserState syncValues put tags OneSignalStateSynchronizer lastGetTagsResponse OneSignalStateSynchronizer currentUserState persistState JSONObject tagsToSync OneSignalStateSynchronizer getTagsWithoutDeletedKeys OneSignalStateSynchronizer toSyncUserState syncValues tagsToSync null Iterator String keys tagsToSync keys keys hasNext String key String keys next OneSignalStateSynchronizer lastGetTagsResponse put key tagsToSync optString key OneSignalStateSynchronizer lastGetTagsResponse null JSONException e e printStackTrace lastGetTagsResponse null GetTagsResult false getTagsWithoutDeletedKeys toSyncUserState syncValues GetTagsResult true lastGetTagsResponse resetCurrentState onSessionDone false OneSignal saveUserId null currentUserState syncValues JSONObject currentUserState persistState com onesignal OSNotificationDisplayedResult notificationId 
